"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/page",{

/***/ "(app-pages-browser)/./src/lib/firebase-services.ts":
/*!**************************************!*\
  !*** ./src/lib/firebase-services.ts ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auditLogService: function() { return /* binding */ auditLogService; },\n/* harmony export */   batchCreateTransactions: function() { return /* binding */ batchCreateTransactions; },\n/* harmony export */   batchUpdateWallets: function() { return /* binding */ batchUpdateWallets; },\n/* harmony export */   binaryTreeService: function() { return /* binding */ binaryTreeService; },\n/* harmony export */   companyService: function() { return /* binding */ companyService; },\n/* harmony export */   incomeTransactionService: function() { return /* binding */ incomeTransactionService; },\n/* harmony export */   mlmConfigService: function() { return /* binding */ mlmConfigService; },\n/* harmony export */   userService: function() { return /* binding */ userService; },\n/* harmony export */   userSettingsService: function() { return /* binding */ userSettingsService; },\n/* harmony export */   walletService: function() { return /* binding */ walletService; },\n/* harmony export */   withdrawalService: function() { return /* binding */ withdrawalService; }\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n\n\n// Helper to ensure db is initialized\nfunction ensureDb() {\n    if (!_firebase__WEBPACK_IMPORTED_MODULE_1__.db) {\n        throw new Error(\"Firestore is not initialized. Please refresh the page.\");\n    }\n    return _firebase__WEBPACK_IMPORTED_MODULE_1__.db;\n}\n// ==================== COMPANY SERVICES ====================\nconst companyService = {\n    async create (company) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\"));\n        const timestamp = firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now();\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...company,\n            createdAt: timestamp,\n            updatedAt: timestamp\n        });\n        return docRef.id;\n    },\n    async getById (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async update (companyId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            ...data,\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async getAll (filters) {\n        const firestore = ensureDb();\n        const baseFilters = [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"!=\", \"deleted\")\n        ];\n        const constraints = filters ? [\n            ...baseFilters,\n            ...filters\n        ] : baseFilters;\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\"), ...constraints);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getWithBillingInfo (companyId) {\n        const company = await this.getById(companyId);\n        if (!company) return null;\n        // Get active subscription\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"subscriptions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"in\", [\n            \"active\",\n            \"trial\"\n        ]), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        const subscription = snapshot.empty ? null : snapshot.docs[0].data();\n        // Get latest invoice\n        const invoiceQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"invoices\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const invoiceSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(invoiceQuery);\n        const latestInvoice = invoiceSnapshot.empty ? null : invoiceSnapshot.docs[0].data();\n        return {\n            company,\n            subscription,\n            latestInvoice,\n            billingStatus: (subscription === null || subscription === void 0 ? void 0 : subscription.status) === \"active\" ? \"active\" : \"inactive\"\n        };\n    },\n    async updateBillingStatus (companyId, status) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            billingStatus: status,\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n};\n// ==================== USER SERVICES ====================\nconst userService = {\n    async create (companyId, user) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...user,\n            registrationDate: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getById (companyId, userId) {\n        const firestore = ensureDb();\n        // Try direct document ID first\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return {\n                id: docSnap.id,\n                ...docSnap.data()\n            };\n        }\n        // If not found, try searching by id field\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"id\", \"==\", userId));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!snapshot.empty) {\n            const doc = snapshot.docs[0];\n            return {\n                id: doc.id,\n                ...doc.data()\n            };\n        }\n        return null;\n    },\n    async getByEmail (companyId, email) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"email\", \"==\", email));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (snapshot.empty) return null;\n        const doc = snapshot.docs[0];\n        return {\n            id: doc.id,\n            ...doc.data()\n        };\n    },\n    async update (companyId, userId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    },\n    async listByCompany (companyId, filters) {\n        const firestore = ensureDb();\n        const constraints = filters || [];\n        // Only add orderBy if we have filters that require it, or if no filters exist\n        // If filters include sponsorId, we need the index for sponsorId + registrationDate\n        const hasSponsorFilter = constraints.some((c)=>c && c._fieldPath === \"sponsorId\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), ...constraints, ...hasSponsorFilter ? [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"registrationDate\", \"desc\")\n        ] : []);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listByStatus (companyId, status) {\n        return this.listByCompany(companyId, [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status)\n        ]);\n    },\n    async getTotalCount (companyId) {\n        if (!_firebase__WEBPACK_IMPORTED_MODULE_1__.db) throw new Error(\"Firestore not initialized\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"!=\", \"deleted\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.size;\n    }\n};\nconst userSettingsService = {\n    async get (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"settings\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            const data = docSnap.data();\n            return data;\n        }\n        return null;\n    },\n    async getOrCreateDefault (companyId, userId) {\n        const existing = await this.get(companyId, userId);\n        if (existing) return existing;\n        const defaultSettings = {\n            notifications: {\n                email: true,\n                push: true,\n                sms: false,\n                incomeAlerts: true,\n                withdrawalAlerts: true,\n                teamUpdates: true\n            },\n            security: {\n                twoFactorAuth: false,\n                loginAlerts: true\n            },\n            preferences: {\n                theme: \"system\",\n                language: \"en\",\n                currency: \"USD\",\n                timezone: \"UTC\"\n            },\n            privacy: {\n                profileVisibility: \"public\",\n                showEarnings: true,\n                showTeam: true\n            },\n            updatedAt: new Date()\n        };\n        await this.update(companyId, userId, defaultSettings);\n        return defaultSettings;\n    },\n    async update (companyId, userId, settings) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"settings\", \"main\");\n        const existing = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (existing.exists()) {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n                ...settings,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        } else {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        }\n    }\n};\n// ==================== BINARY TREE SERVICES ====================\nconst binaryTreeService = {\n    async getPosition (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    // Alias for getPosition (for compatibility)\n    async getBinaryPosition (companyId, userId) {\n        return this.getPosition(companyId, userId);\n    },\n    async setPosition (companyId, userId, position) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, position);\n    },\n    async updateVolume (companyId, userId, side, volume) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            [\"\".concat(side, \"Volume\")]: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(volume)\n        });\n    },\n    async getDownline (companyId, sponsorId) {\n        let depth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, maxDepth = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 10;\n        if (depth > maxDepth) return [];\n        const users = await userService.listByCompany(companyId, [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"sponsorId\", \"==\", sponsorId)\n        ]);\n        let downline = users.map((u)=>u.id);\n        for (const user of users){\n            const subDownline = await this.getDownline(companyId, user.id, depth + 1, maxDepth);\n            downline = [\n                ...downline,\n                ...subDownline\n            ];\n        }\n        return downline;\n    },\n    // Get team count (left, right, total)\n    async getTeamCount (companyId, userId) {\n        try {\n            const users = await userService.listByCompany(companyId, [\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"sponsorId\", \"==\", userId)\n            ]);\n            let leftCount = 0;\n            let rightCount = 0;\n            for (const user of users){\n                if (user.placementSide === \"left\") leftCount++;\n                else if (user.placementSide === \"right\") rightCount++;\n            }\n            return {\n                total: users.length,\n                left: leftCount,\n                right: rightCount\n            };\n        } catch (error) {\n            console.error(\"[v0] Error getting team count:\", error);\n            return {\n                total: 0,\n                left: 0,\n                right: 0\n            };\n        }\n    },\n    // Calculate team volume recursively\n    async calculateTeamVolume (companyId, userId) {\n        try {\n            const position = await this.getPosition(companyId, userId);\n            if (!position) return 0;\n            let volume = (position.leftVolume || 0) + (position.rightVolume || 0);\n            // Recursively add children volumes\n            if (position.left) {\n                volume += await this.calculateTeamVolume(companyId, position.left);\n            }\n            if (position.right) {\n                volume += await this.calculateTeamVolume(companyId, position.right);\n            }\n            return volume;\n        } catch (error) {\n            console.error(\"[v0] Error calculating team volume:\", error);\n            return 0;\n        }\n    }\n};\n// ==================== WALLET SERVICES ====================\nconst walletService = {\n    async getOrCreate (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return docSnap.data();\n        }\n        const newWallet = {\n            userId,\n            companyId,\n            availableBalance: 0,\n            lockedBalance: 0,\n            totalWithdrawn: 0,\n            totalEarned: 0,\n            lastUpdated: new Date()\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, newWallet);\n        return newWallet;\n    },\n    async getBalance (companyId, userId) {\n        const wallet = await this.getOrCreate(companyId, userId);\n        return {\n            available: wallet.availableBalance,\n            locked: wallet.lockedBalance,\n            total: wallet.availableBalance + wallet.lockedBalance,\n            withdrawn: wallet.totalWithdrawn,\n            earned: wallet.totalEarned\n        };\n    },\n    async addIncome (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            totalEarned: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async deductBalance (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(-amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async recordWithdrawal (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(-amount),\n            totalWithdrawn: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n};\n// ==================== INCOME TRANSACTION SERVICES ====================\nconst incomeTransactionService = {\n    async create (companyId, transaction) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...transaction,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getByUser (companyId, userId) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getByType (companyId, incomeType) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"incomeType\", \"==\", incomeType), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getTotalByType (companyId, userId, incomeType) {\n        const transactions = await this.getByUser(companyId, userId, 1000);\n        return transactions.filter((t)=>t.incomeType === incomeType && t.status === \"credited\").reduce((sum, t)=>sum + t.amount, 0);\n    }\n};\n// ==================== WITHDRAWAL SERVICES ====================\nconst withdrawalService = {\n    async create (companyId, withdrawal) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...withdrawal,\n            requestedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getById (companyId, withdrawalId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"withdrawals\", withdrawalId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async update (companyId, withdrawalId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"withdrawals\", withdrawalId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    },\n    async listByUser (companyId, userId) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"requestedAt\", \"desc\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listByStatus (companyId, status) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"requestedAt\", \"desc\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getSettings (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"settings\", \"withdrawal\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    }\n};\n// ==================== MLM CONFIG SERVICES ====================\nconst mlmConfigService = {\n    async get (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async create (companyId, config) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...config,\n            companyId\n        });\n    },\n    async update (companyId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    }\n};\n// ==================== AUDIT LOG SERVICES ====================\nconst auditLogService = {\n    async log (companyId, log) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...log,\n            timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async listByAdmin (companyId, adminId) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"adminId\", \"==\", adminId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"timestamp\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listAll (companyId) {\n        let limitCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"timestamp\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    }\n};\n// ==================== BATCH OPERATIONS ====================\nasync function batchUpdateWallets(companyId, updates) {\n    const firestore = ensureDb();\n    const batchWrite = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(firestore);\n    for (const update of updates){\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", update.userId, \"wallet\", \"main\");\n        const increment_val = update.type === \"add\" ? update.amount : -update.amount;\n        batchWrite.update(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(increment_val),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n    await batchWrite.commit();\n}\nasync function batchCreateTransactions(companyId, transactions) {\n    const firestore = ensureDb();\n    const batchWrite = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(firestore);\n    for (const transaction of transactions){\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"));\n        batchWrite.set(docRef, {\n            ...transaction,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n    await batchWrite.commit();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZWJhc2Utc2VydmljZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQWUyQjtBQUNXO0FBRXRDLHFDQUFxQztBQUNyQyxTQUFTYztJQUNQLElBQUksQ0FBQ0QseUNBQUVBLEVBQUU7UUFDUCxNQUFNLElBQUlFLE1BQU07SUFDbEI7SUFDQSxPQUFPRix5Q0FBRUE7QUFDWDtBQWFBLDZEQUE2RDtBQUN0RCxNQUFNRyxpQkFBaUI7SUFDNUIsTUFBTUMsUUFBT0MsT0FBd0Q7UUFDbkUsTUFBTUMsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDRCw4REFBVUEsQ0FBQ21CLFdBQVc7UUFDekMsTUFBTUUsWUFBWVYseURBQVNBLENBQUNXLEdBQUc7UUFDL0IsTUFBTWxCLDBEQUFNQSxDQUFDZ0IsUUFBUTtZQUNuQixHQUFHRixPQUFPO1lBQ1ZLLFdBQVdGO1lBQ1hHLFdBQVdIO1FBQ2I7UUFDQSxPQUFPRCxPQUFPSyxFQUFFO0lBQ2xCO0lBRUEsTUFBTUMsU0FBUUMsU0FBaUI7UUFDN0IsTUFBTVIsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUTtRQUMzQyxNQUFNQyxVQUFVLE1BQU0xQiwwREFBTUEsQ0FBQ2tCO1FBQzdCLE9BQU9RLFFBQVFDLE1BQU0sS0FBTUQsUUFBUUUsSUFBSSxLQUFpQjtJQUMxRDtJQUVBLE1BQU1DLFFBQU9KLFNBQWlCLEVBQUVHLElBQXNCO1FBQ3BELE1BQU1YLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVE7UUFDM0MsTUFBTXRCLDZEQUFTQSxDQUFDZSxRQUFRO1lBQ3RCLEdBQUdVLElBQUk7WUFDUE4sV0FBV2IseURBQVNBLENBQUNXLEdBQUc7UUFDMUI7SUFDRjtJQUVBLE1BQU1VLFFBQU9DLE9BQTJCO1FBQ3RDLE1BQU1kLFlBQVlMO1FBQ2xCLE1BQU1vQixjQUFjO1lBQUMzQix5REFBS0EsQ0FBQyxVQUFVLE1BQU07U0FBVztRQUN0RCxNQUFNNEIsY0FBY0YsVUFBVTtlQUFJQztlQUFnQkQ7U0FBUSxHQUFHQztRQUM3RCxNQUFNRSxJQUFJOUIseURBQUtBLENBQUNOLDhEQUFVQSxDQUFDbUIsV0FBVyxpQkFBaUJnQjtRQUN2RCxNQUFNRSxXQUFXLE1BQU1sQywyREFBT0EsQ0FBQ2lDO1FBQy9CLE9BQU9DLFNBQVNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUN0QyxNQUFTO2dCQUFFd0IsSUFBSXhCLElBQUl3QixFQUFFO2dCQUFFLEdBQUd4QixJQUFJNkIsSUFBSSxFQUFFO1lBQUM7SUFDakU7SUFFQSxNQUFNVSxvQkFBbUJiLFNBQWlCO1FBQ3hDLE1BQU1ULFVBQVUsTUFBTSxJQUFJLENBQUNRLE9BQU8sQ0FBQ0M7UUFDbkMsSUFBSSxDQUFDVCxTQUFTLE9BQU87UUFFckIsMEJBQTBCO1FBQzFCLE1BQU1DLFlBQVlMO1FBQ2xCLE1BQU1zQixJQUFJOUIseURBQUtBLENBQ2JOLDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXLGtCQUM5Q3BCLHlEQUFLQSxDQUFDLFVBQVUsTUFBTTtZQUFDO1lBQVU7U0FBUSxHQUN6Q0MsMkRBQU9BLENBQUMsYUFBYSxTQUNyQkMseURBQUtBLENBQUM7UUFFUixNQUFNNEIsV0FBVyxNQUFNbEMsMkRBQU9BLENBQUNpQztRQUMvQixNQUFNSyxlQUFlSixTQUFTSyxLQUFLLEdBQUcsT0FBT0wsU0FBU0MsSUFBSSxDQUFDLEVBQUUsQ0FBQ1IsSUFBSTtRQUVsRSxxQkFBcUI7UUFDckIsTUFBTWEsZUFBZXJDLHlEQUFLQSxDQUN4Qk4sOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVcsYUFDOUNuQiwyREFBT0EsQ0FBQyxhQUFhLFNBQ3JCQyx5REFBS0EsQ0FBQztRQUVSLE1BQU1tQyxrQkFBa0IsTUFBTXpDLDJEQUFPQSxDQUFDd0M7UUFDdEMsTUFBTUUsZ0JBQWdCRCxnQkFBZ0JGLEtBQUssR0FBRyxPQUFPRSxnQkFBZ0JOLElBQUksQ0FBQyxFQUFFLENBQUNSLElBQUk7UUFFakYsT0FBTztZQUNMWjtZQUNBdUI7WUFDQUk7WUFDQUMsZUFBZUwsQ0FBQUEseUJBQUFBLG1DQUFBQSxhQUFjTSxNQUFNLE1BQUssV0FBVyxXQUFXO1FBQ2hFO0lBQ0Y7SUFFQSxNQUFNQyxxQkFBb0JyQixTQUFpQixFQUFFb0IsTUFBYztRQUN6RCxNQUFNNUIsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUTtRQUMzQyxNQUFNdEIsNkRBQVNBLENBQUNlLFFBQVE7WUFDdEIwQixlQUFlQztZQUNmdkIsV0FBV2IseURBQVNBLENBQUNXLEdBQUc7UUFDMUI7SUFDRjtBQUNGLEVBQUM7QUFFRCwwREFBMEQ7QUFDbkQsTUFBTTJCLGNBQWM7SUFDekIsTUFBTWhDLFFBQU9VLFNBQWlCLEVBQUV1QixJQUEyQztRQUN6RSxNQUFNL0IsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDRCw4REFBVUEsQ0FBQ21CLFdBQVcsYUFBYVEsV0FBVztRQUNqRSxNQUFNdkIsMERBQU1BLENBQUNnQixRQUFRO1lBQ25CLEdBQUc4QixJQUFJO1lBQ1BDLGtCQUFrQnhDLHlEQUFTQSxDQUFDVyxHQUFHO1FBQ2pDO1FBQ0EsT0FBT0YsT0FBT0ssRUFBRTtJQUNsQjtJQUVBLE1BQU1DLFNBQVFDLFNBQWlCLEVBQUV5QixNQUFjO1FBQzdDLE1BQU1qQyxZQUFZTDtRQUNsQiwrQkFBK0I7UUFDL0IsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUSxXQUFXLFNBQVN5QjtRQUMvRCxNQUFNeEIsVUFBVSxNQUFNMUIsMERBQU1BLENBQUNrQjtRQUM3QixJQUFJUSxRQUFRQyxNQUFNLElBQUk7WUFDcEIsT0FBTztnQkFBRUosSUFBSUcsUUFBUUgsRUFBRTtnQkFBRSxHQUFHRyxRQUFRRSxJQUFJLEVBQUU7WUFBQztRQUM3QztRQUNBLDBDQUEwQztRQUMxQyxNQUFNTSxJQUFJOUIseURBQUtBLENBQ2JOLDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXLFVBQzlDcEIseURBQUtBLENBQUMsTUFBTSxNQUFNNkM7UUFFcEIsTUFBTWYsV0FBVyxNQUFNbEMsMkRBQU9BLENBQUNpQztRQUMvQixJQUFJLENBQUNDLFNBQVNLLEtBQUssRUFBRTtZQUNuQixNQUFNekMsTUFBTW9DLFNBQVNDLElBQUksQ0FBQyxFQUFFO1lBQzVCLE9BQU87Z0JBQUViLElBQUl4QixJQUFJd0IsRUFBRTtnQkFBRSxHQUFHeEIsSUFBSTZCLElBQUksRUFBRTtZQUFDO1FBQ3JDO1FBQ0EsT0FBTztJQUNUO0lBRUEsTUFBTXVCLFlBQVcxQixTQUFpQixFQUFFMkIsS0FBYTtRQUMvQyxNQUFNbkMsWUFBWUw7UUFDbEIsTUFBTXNCLElBQUk5Qix5REFBS0EsQ0FBQ04sOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVcsVUFBVXBCLHlEQUFLQSxDQUFDLFNBQVMsTUFBTStDO1FBQzdGLE1BQU1qQixXQUFXLE1BQU1sQywyREFBT0EsQ0FBQ2lDO1FBQy9CLElBQUlDLFNBQVNLLEtBQUssRUFBRSxPQUFPO1FBQzNCLE1BQU16QyxNQUFNb0MsU0FBU0MsSUFBSSxDQUFDLEVBQUU7UUFDNUIsT0FBTztZQUFFYixJQUFJeEIsSUFBSXdCLEVBQUU7WUFBRSxHQUFHeEIsSUFBSTZCLElBQUksRUFBRTtRQUFDO0lBQ3JDO0lBRUEsTUFBTUMsUUFBT0osU0FBaUIsRUFBRXlCLE1BQWMsRUFBRXRCLElBQW1CO1FBQ2pFLE1BQU1YLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxTQUFTeUI7UUFDL0QsTUFBTS9DLDZEQUFTQSxDQUFDZSxRQUFRVTtJQUMxQjtJQUVBLE1BQU15QixlQUFjNUIsU0FBaUIsRUFBRU0sT0FBMkI7UUFDaEUsTUFBTWQsWUFBWUw7UUFDbEIsTUFBTXFCLGNBQWNGLFdBQVcsRUFBRTtRQUNqQyw4RUFBOEU7UUFDOUUsbUZBQW1GO1FBQ25GLE1BQU11QixtQkFBbUJyQixZQUFZc0IsSUFBSSxDQUFDLENBQUNDLElBQVdBLEtBQUtBLEVBQUVDLFVBQVUsS0FBSztRQUM1RSxNQUFNdkIsSUFBSTlCLHlEQUFLQSxDQUNiTiw4REFBVUEsQ0FBQ21CLFdBQVcsYUFBYVEsV0FBVyxhQUMzQ1EsZ0JBQ0NxQixtQkFBbUI7WUFBQ2hELDJEQUFPQSxDQUFDLG9CQUFvQjtTQUFRLEdBQUcsRUFBRTtRQUVuRSxNQUFNNkIsV0FBVyxNQUFNbEMsMkRBQU9BLENBQUNpQztRQUMvQixPQUFPQyxTQUFTQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDdEMsTUFBUztnQkFBRXdCLElBQUl4QixJQUFJd0IsRUFBRTtnQkFBRSxHQUFHeEIsSUFBSTZCLElBQUksRUFBRTtZQUFDO0lBQ2pFO0lBRUEsTUFBTThCLGNBQWFqQyxTQUFpQixFQUFFb0IsTUFBYztRQUNsRCxPQUFPLElBQUksQ0FBQ1EsYUFBYSxDQUFDNUIsV0FBVztZQUFDcEIseURBQUtBLENBQUMsVUFBVSxNQUFNd0M7U0FBUTtJQUN0RTtJQUVBLE1BQU1jLGVBQWNsQyxTQUFpQjtRQUNqQyxJQUFJLENBQUNkLHlDQUFFQSxFQUFFLE1BQU0sSUFBSUUsTUFBTTtRQUN6QixNQUFNcUIsSUFBSTlCLHlEQUFLQSxDQUFDTiw4REFBVUEsQ0FBQ2EseUNBQUVBLEVBQUUsYUFBYWMsV0FBVyxVQUFVcEIseURBQUtBLENBQUMsVUFBVSxNQUFNO1FBQ3pGLE1BQU04QixXQUFXLE1BQU1sQywyREFBT0EsQ0FBQ2lDO1FBQy9CLE9BQU9DLFNBQVN5QixJQUFJO0lBQ3RCO0FBQ0YsRUFBQztBQThCTSxNQUFNQyxzQkFBc0I7SUFDakMsTUFBTUMsS0FBSXJDLFNBQWlCLEVBQUV5QixNQUFjO1FBQ3pDLE1BQU1qQyxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNrQixXQUFXLGFBQWFRLFdBQVcsU0FBU3lCLFFBQVEsWUFBWTtRQUNuRixNQUFNeEIsVUFBVSxNQUFNMUIsMERBQU1BLENBQUNrQjtRQUM3QixJQUFJUSxRQUFRQyxNQUFNLElBQUk7WUFDcEIsTUFBTUMsT0FBT0YsUUFBUUUsSUFBSTtZQUN6QixPQUFPQTtRQUNUO1FBQ0EsT0FBTztJQUNUO0lBRUEsTUFBTW1DLG9CQUFtQnRDLFNBQWlCLEVBQUV5QixNQUFjO1FBQ3hELE1BQU1jLFdBQVcsTUFBTSxJQUFJLENBQUNGLEdBQUcsQ0FBQ3JDLFdBQVd5QjtRQUMzQyxJQUFJYyxVQUFVLE9BQU9BO1FBRXJCLE1BQU1DLGtCQUFnQztZQUNwQ0MsZUFBZTtnQkFDYmQsT0FBTztnQkFDUGUsTUFBTTtnQkFDTkMsS0FBSztnQkFDTEMsY0FBYztnQkFDZEMsa0JBQWtCO2dCQUNsQkMsYUFBYTtZQUNmO1lBQ0FDLFVBQVU7Z0JBQ1JDLGVBQWU7Z0JBQ2ZDLGFBQWE7WUFDZjtZQUNBQyxhQUFhO2dCQUNYQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxVQUFVO1lBQ1o7WUFDQUMsU0FBUztnQkFDUEMsbUJBQW1CO2dCQUNuQkMsY0FBYztnQkFDZEMsVUFBVTtZQUNaO1lBQ0E3RCxXQUFXLElBQUk4RDtRQUNqQjtRQUVBLE1BQU0sSUFBSSxDQUFDdkQsTUFBTSxDQUFDSixXQUFXeUIsUUFBUWU7UUFDckMsT0FBT0E7SUFDVDtJQUVBLE1BQU1wQyxRQUFPSixTQUFpQixFQUFFeUIsTUFBYyxFQUFFbUMsUUFBK0I7UUFDN0UsTUFBTXBFLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxTQUFTeUIsUUFBUSxZQUFZO1FBQ25GLE1BQU1jLFdBQVcsTUFBTWhFLDBEQUFNQSxDQUFDa0I7UUFFOUIsSUFBSThDLFNBQVNyQyxNQUFNLElBQUk7WUFDckIsTUFBTXhCLDZEQUFTQSxDQUFDZSxRQUFRO2dCQUN0QixHQUFHbUUsUUFBUTtnQkFDWC9ELFdBQVdiLHlEQUFTQSxDQUFDVyxHQUFHO1lBQzFCO1FBQ0YsT0FBTztZQUNMLE1BQU1sQiwwREFBTUEsQ0FBQ2dCLFFBQVE7Z0JBQ25CLEdBQUdtRSxRQUFRO2dCQUNYL0QsV0FBV2IseURBQVNBLENBQUNXLEdBQUc7WUFDMUI7UUFDRjtJQUNGO0FBQ0YsRUFBQztBQUVELGlFQUFpRTtBQUMxRCxNQUFNa0Usb0JBQW9CO0lBQy9CLE1BQU1DLGFBQVk5RCxTQUFpQixFQUFFeUIsTUFBYztRQUNqRCxNQUFNakMsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUSxXQUFXLFNBQVN5QixRQUFRLGNBQWM7UUFDckYsTUFBTXhCLFVBQVUsTUFBTTFCLDBEQUFNQSxDQUFDa0I7UUFDN0IsT0FBT1EsUUFBUUMsTUFBTSxLQUFNRCxRQUFRRSxJQUFJLEtBQXdCO0lBQ2pFO0lBRUEsNENBQTRDO0lBQzVDLE1BQU00RCxtQkFBa0IvRCxTQUFpQixFQUFFeUIsTUFBYztRQUN2RCxPQUFPLElBQUksQ0FBQ3FDLFdBQVcsQ0FBQzlELFdBQVd5QjtJQUNyQztJQUVBLE1BQU11QyxhQUFZaEUsU0FBaUIsRUFBRXlCLE1BQWMsRUFBRXdDLFFBQXdCO1FBQzNFLE1BQU16RSxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNrQixXQUFXLGFBQWFRLFdBQVcsU0FBU3lCLFFBQVEsY0FBYztRQUNyRixNQUFNaEQsMERBQU1BLENBQUNnQixRQUFRd0U7SUFDdkI7SUFFQSxNQUFNQyxjQUFhbEUsU0FBaUIsRUFBRXlCLE1BQWMsRUFBRTBDLElBQXNCLEVBQUVDLE1BQWM7UUFDMUYsTUFBTTVFLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxTQUFTeUIsUUFBUSxjQUFjO1FBQ3JGLE1BQU0vQyw2REFBU0EsQ0FBQ2UsUUFBUTtZQUN0QixDQUFDLEdBQVEsT0FBTDBFLE1BQUssVUFBUSxFQUFFbEYsNkRBQVNBLENBQUNtRjtRQUMvQjtJQUNGO0lBRUEsTUFBTUMsYUFBWXJFLFNBQWlCLEVBQUVzRSxTQUFpQjtZQUFFQyxRQUFBQSxpRUFBUSxHQUFHQyxXQUFBQSxpRUFBVztRQUM1RSxJQUFJRCxRQUFRQyxVQUFVLE9BQU8sRUFBRTtRQUUvQixNQUFNQyxRQUFRLE1BQU1uRCxZQUFZTSxhQUFhLENBQUM1QixXQUFXO1lBQUNwQix5REFBS0EsQ0FBQyxhQUFhLE1BQU0wRjtTQUFXO1FBRTlGLElBQUlJLFdBQVdELE1BQU03RCxHQUFHLENBQUMsQ0FBQytELElBQU1BLEVBQUU3RSxFQUFFO1FBQ3BDLEtBQUssTUFBTXlCLFFBQVFrRCxNQUFPO1lBQ3hCLE1BQU1HLGNBQWMsTUFBTSxJQUFJLENBQUNQLFdBQVcsQ0FBQ3JFLFdBQVd1QixLQUFLekIsRUFBRSxFQUFFeUUsUUFBUSxHQUFHQztZQUMxRUUsV0FBVzttQkFBSUE7bUJBQWFFO2FBQVk7UUFDMUM7UUFDQSxPQUFPRjtJQUNUO0lBRUEsc0NBQXNDO0lBQ3RDLE1BQU1HLGNBQWE3RSxTQUFpQixFQUFFeUIsTUFBYztRQUNsRCxJQUFJO1lBQ0YsTUFBTWdELFFBQVEsTUFBTW5ELFlBQVlNLGFBQWEsQ0FBQzVCLFdBQVc7Z0JBQUNwQix5REFBS0EsQ0FBQyxhQUFhLE1BQU02QzthQUFRO1lBRTNGLElBQUlxRCxZQUFZO1lBQ2hCLElBQUlDLGFBQWE7WUFFakIsS0FBSyxNQUFNeEQsUUFBUWtELE1BQU87Z0JBQ3hCLElBQUlsRCxLQUFLeUQsYUFBYSxLQUFLLFFBQVFGO3FCQUM5QixJQUFJdkQsS0FBS3lELGFBQWEsS0FBSyxTQUFTRDtZQUMzQztZQUVBLE9BQU87Z0JBQ0xFLE9BQU9SLE1BQU1TLE1BQU07Z0JBQ25CQyxNQUFNTDtnQkFDTk0sT0FBT0w7WUFDVDtRQUNGLEVBQUUsT0FBT00sT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtZQUNoRCxPQUFPO2dCQUFFSixPQUFPO2dCQUFHRSxNQUFNO2dCQUFHQyxPQUFPO1lBQUU7UUFDdkM7SUFDRjtJQUVBLG9DQUFvQztJQUNwQyxNQUFNRyxxQkFBb0J2RixTQUFpQixFQUFFeUIsTUFBYztRQUN6RCxJQUFJO1lBQ0YsTUFBTXdDLFdBQVcsTUFBTSxJQUFJLENBQUNILFdBQVcsQ0FBQzlELFdBQVd5QjtZQUNuRCxJQUFJLENBQUN3QyxVQUFVLE9BQU87WUFFdEIsSUFBSUcsU0FBUyxDQUFDSCxTQUFTdUIsVUFBVSxJQUFJLEtBQU12QixDQUFBQSxTQUFTd0IsV0FBVyxJQUFJO1lBRW5FLG1DQUFtQztZQUNuQyxJQUFJeEIsU0FBU2tCLElBQUksRUFBRTtnQkFDakJmLFVBQVUsTUFBTSxJQUFJLENBQUNtQixtQkFBbUIsQ0FBQ3ZGLFdBQVdpRSxTQUFTa0IsSUFBSTtZQUNuRTtZQUNBLElBQUlsQixTQUFTbUIsS0FBSyxFQUFFO2dCQUNsQmhCLFVBQVUsTUFBTSxJQUFJLENBQUNtQixtQkFBbUIsQ0FBQ3ZGLFdBQVdpRSxTQUFTbUIsS0FBSztZQUNwRTtZQUVBLE9BQU9oQjtRQUNULEVBQUUsT0FBT2lCLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHVDQUF1Q0E7WUFDckQsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFDO0FBRUQsNERBQTREO0FBQ3JELE1BQU1LLGdCQUFnQjtJQUMzQixNQUFNQyxhQUFZM0YsU0FBaUIsRUFBRXlCLE1BQWM7UUFDakQsTUFBTWpDLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxTQUFTeUIsUUFBUSxVQUFVO1FBQ2pGLE1BQU14QixVQUFVLE1BQU0xQiwwREFBTUEsQ0FBQ2tCO1FBRTdCLElBQUlRLFFBQVFDLE1BQU0sSUFBSTtZQUNwQixPQUFPRCxRQUFRRSxJQUFJO1FBQ3JCO1FBRUEsTUFBTXlGLFlBQW9CO1lBQ3hCbkU7WUFDQXpCO1lBQ0E2RixrQkFBa0I7WUFDbEJDLGVBQWU7WUFDZkMsZ0JBQWdCO1lBQ2hCQyxhQUFhO1lBQ2JDLGFBQWEsSUFBSXRDO1FBQ25CO1FBRUEsTUFBTWxGLDBEQUFNQSxDQUFDZ0IsUUFBUW1HO1FBQ3JCLE9BQU9BO0lBQ1Q7SUFFQSxNQUFNTSxZQUFXbEcsU0FBaUIsRUFBRXlCLE1BQWM7UUFDaEQsTUFBTTBFLFNBQVMsTUFBTSxJQUFJLENBQUNSLFdBQVcsQ0FBQzNGLFdBQVd5QjtRQUNqRCxPQUFPO1lBQ0wyRSxXQUFXRCxPQUFPTixnQkFBZ0I7WUFDbENRLFFBQVFGLE9BQU9MLGFBQWE7WUFDNUJiLE9BQU9rQixPQUFPTixnQkFBZ0IsR0FBR00sT0FBT0wsYUFBYTtZQUNyRFEsV0FBV0gsT0FBT0osY0FBYztZQUNoQ1EsUUFBUUosT0FBT0gsV0FBVztRQUM1QjtJQUNGO0lBRUEsTUFBTVEsV0FBVXhHLFNBQWlCLEVBQUV5QixNQUFjLEVBQUVnRixNQUFjO1FBQy9ELE1BQU1qSCxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNrQixXQUFXLGFBQWFRLFdBQVcsU0FBU3lCLFFBQVEsVUFBVTtRQUNqRixNQUFNL0MsNkRBQVNBLENBQUNlLFFBQVE7WUFDdEJvRyxrQkFBa0I1Ryw2REFBU0EsQ0FBQ3dIO1lBQzVCVCxhQUFhL0csNkRBQVNBLENBQUN3SDtZQUN2QlIsYUFBYWpILHlEQUFTQSxDQUFDVyxHQUFHO1FBQzVCO0lBQ0Y7SUFFQSxNQUFNK0csZUFBYzFHLFNBQWlCLEVBQUV5QixNQUFjLEVBQUVnRixNQUFjO1FBQ25FLE1BQU1qSCxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNrQixXQUFXLGFBQWFRLFdBQVcsU0FBU3lCLFFBQVEsVUFBVTtRQUNqRixNQUFNL0MsNkRBQVNBLENBQUNlLFFBQVE7WUFDdEJvRyxrQkFBa0I1Ryw2REFBU0EsQ0FBQyxDQUFDd0g7WUFDN0JSLGFBQWFqSCx5REFBU0EsQ0FBQ1csR0FBRztRQUM1QjtJQUNGO0lBRUEsTUFBTWdILGtCQUFpQjNHLFNBQWlCLEVBQUV5QixNQUFjLEVBQUVnRixNQUFjO1FBQ3RFLE1BQU1qSCxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNrQixXQUFXLGFBQWFRLFdBQVcsU0FBU3lCLFFBQVEsVUFBVTtRQUNqRixNQUFNL0MsNkRBQVNBLENBQUNlLFFBQVE7WUFDdEJvRyxrQkFBa0I1Ryw2REFBU0EsQ0FBQyxDQUFDd0g7WUFDN0JWLGdCQUFnQjlHLDZEQUFTQSxDQUFDd0g7WUFDMUJSLGFBQWFqSCx5REFBU0EsQ0FBQ1csR0FBRztRQUM1QjtJQUNGO0FBQ0YsRUFBQztBQUVELHdFQUF3RTtBQUNqRSxNQUFNaUgsMkJBQTJCO0lBQ3RDLE1BQU10SCxRQUFPVSxTQUFpQixFQUFFNkcsV0FBd0Q7UUFDdEYsTUFBTXJILFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ0QsOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVc7UUFDakUsTUFBTXZCLDBEQUFNQSxDQUFDZ0IsUUFBUTtZQUNuQixHQUFHb0gsV0FBVztZQUNkakgsV0FBV1oseURBQVNBLENBQUNXLEdBQUc7UUFDMUI7UUFDQSxPQUFPRixPQUFPSyxFQUFFO0lBQ2xCO0lBRUEsTUFBTWdILFdBQVU5RyxTQUFpQixFQUFFeUIsTUFBYztZQUFFc0YsYUFBQUEsaUVBQWE7UUFDOUQsTUFBTXZILFlBQVlMO1FBQ2xCLE1BQU1zQixJQUFJOUIseURBQUtBLENBQ2JOLDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXLHVCQUM5Q3BCLHlEQUFLQSxDQUFDLFVBQVUsTUFBTTZDLFNBQ3RCNUMsMkRBQU9BLENBQUMsYUFBYSxTQUNyQkMseURBQUtBLENBQUNpSTtRQUVSLE1BQU1yRyxXQUFXLE1BQU1sQywyREFBT0EsQ0FBQ2lDO1FBQy9CLE9BQU9DLFNBQVNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUN0QyxNQUFTO2dCQUFFd0IsSUFBSXhCLElBQUl3QixFQUFFO2dCQUFFLEdBQUd4QixJQUFJNkIsSUFBSSxFQUFFO1lBQUM7SUFDakU7SUFFQSxNQUFNNkcsV0FBVWhILFNBQWlCLEVBQUVpSCxVQUFrQjtZQUFFRixhQUFBQSxpRUFBYTtRQUNsRSxNQUFNdkgsWUFBWUw7UUFDbEIsTUFBTXNCLElBQUk5Qix5REFBS0EsQ0FDYk4sOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVcsdUJBQzlDcEIseURBQUtBLENBQUMsY0FBYyxNQUFNcUksYUFDMUJwSSwyREFBT0EsQ0FBQyxhQUFhLFNBQ3JCQyx5REFBS0EsQ0FBQ2lJO1FBRVIsTUFBTXJHLFdBQVcsTUFBTWxDLDJEQUFPQSxDQUFDaUM7UUFDL0IsT0FBT0MsU0FBU0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQ3RDLE1BQVM7Z0JBQUV3QixJQUFJeEIsSUFBSXdCLEVBQUU7Z0JBQUUsR0FBR3hCLElBQUk2QixJQUFJLEVBQUU7WUFBQztJQUNqRTtJQUVBLE1BQU0rRyxnQkFBZWxILFNBQWlCLEVBQUV5QixNQUFjLEVBQUV3RixVQUFrQjtRQUN4RSxNQUFNRSxlQUFlLE1BQU0sSUFBSSxDQUFDTCxTQUFTLENBQUM5RyxXQUFXeUIsUUFBUTtRQUM3RCxPQUFPMEYsYUFDSkMsTUFBTSxDQUFDLENBQUNDLElBQU1BLEVBQUVKLFVBQVUsS0FBS0EsY0FBY0ksRUFBRWpHLE1BQU0sS0FBSyxZQUMxRGtHLE1BQU0sQ0FBQyxDQUFDQyxLQUFLRixJQUFNRSxNQUFNRixFQUFFWixNQUFNLEVBQUU7SUFDeEM7QUFDRixFQUFDO0FBRUQsZ0VBQWdFO0FBQ3pELE1BQU1lLG9CQUFvQjtJQUMvQixNQUFNbEksUUFBT1UsU0FBaUIsRUFBRXlILFVBQWtEO1FBQ2hGLE1BQU1qSSxZQUFZTDtRQUNsQixNQUFNTSxTQUFTbkIsdURBQUdBLENBQUNELDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXO1FBQ2pFLE1BQU12QiwwREFBTUEsQ0FBQ2dCLFFBQVE7WUFDbkIsR0FBR2dJLFVBQVU7WUFDYkMsYUFBYTFJLHlEQUFTQSxDQUFDVyxHQUFHO1FBQzVCO1FBQ0EsT0FBT0YsT0FBT0ssRUFBRTtJQUNsQjtJQUVBLE1BQU1DLFNBQVFDLFNBQWlCLEVBQUUySCxZQUFvQjtRQUNuRCxNQUFNbkksWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUSxXQUFXLGVBQWUySDtRQUNyRSxNQUFNMUgsVUFBVSxNQUFNMUIsMERBQU1BLENBQUNrQjtRQUM3QixPQUFPUSxRQUFRQyxNQUFNLEtBQU1ELFFBQVFFLElBQUksS0FBb0I7SUFDN0Q7SUFFQSxNQUFNQyxRQUFPSixTQUFpQixFQUFFMkgsWUFBb0IsRUFBRXhILElBQXlCO1FBQzdFLE1BQU1YLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxlQUFlMkg7UUFDckUsTUFBTWpKLDZEQUFTQSxDQUFDZSxRQUFRVTtJQUMxQjtJQUVBLE1BQU15SCxZQUFXNUgsU0FBaUIsRUFBRXlCLE1BQWM7UUFDaEQsTUFBTWpDLFlBQVlMO1FBQ2xCLE1BQU1zQixJQUFJOUIseURBQUtBLENBQ2JOLDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXLGdCQUM5Q3BCLHlEQUFLQSxDQUFDLFVBQVUsTUFBTTZDLFNBQ3RCNUMsMkRBQU9BLENBQUMsZUFBZTtRQUV6QixNQUFNNkIsV0FBVyxNQUFNbEMsMkRBQU9BLENBQUNpQztRQUMvQixPQUFPQyxTQUFTQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDdEMsTUFBUztnQkFBRXdCLElBQUl4QixJQUFJd0IsRUFBRTtnQkFBRSxHQUFHeEIsSUFBSTZCLElBQUksRUFBRTtZQUFDO0lBQ2pFO0lBRUEsTUFBTThCLGNBQWFqQyxTQUFpQixFQUFFb0IsTUFBYztRQUNsRCxNQUFNNUIsWUFBWUw7UUFDbEIsTUFBTXNCLElBQUk5Qix5REFBS0EsQ0FDYk4sOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVcsZ0JBQzlDcEIseURBQUtBLENBQUMsVUFBVSxNQUFNd0MsU0FDdEJ2QywyREFBT0EsQ0FBQyxlQUFlO1FBRXpCLE1BQU02QixXQUFXLE1BQU1sQywyREFBT0EsQ0FBQ2lDO1FBQy9CLE9BQU9DLFNBQVNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUN0QyxNQUFTO2dCQUFFd0IsSUFBSXhCLElBQUl3QixFQUFFO2dCQUFFLEdBQUd4QixJQUFJNkIsSUFBSSxFQUFFO1lBQUM7SUFDakU7SUFFQSxNQUFNMEgsYUFBWTdILFNBQWlCO1FBQ2pDLE1BQU1SLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxZQUFZO1FBQ2xFLE1BQU1DLFVBQVUsTUFBTTFCLDBEQUFNQSxDQUFDa0I7UUFDN0IsT0FBT1EsUUFBUUMsTUFBTSxLQUFNRCxRQUFRRSxJQUFJLEtBQTRCO0lBQ3JFO0FBQ0YsRUFBQztBQUVELGdFQUFnRTtBQUN6RCxNQUFNMkgsbUJBQW1CO0lBQzlCLE1BQU16RixLQUFJckMsU0FBaUI7UUFDekIsTUFBTVIsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUSxXQUFXLGFBQWE7UUFDbkUsTUFBTUMsVUFBVSxNQUFNMUIsMERBQU1BLENBQUNrQjtRQUM3QixPQUFPUSxRQUFRQyxNQUFNLEtBQU1ELFFBQVFFLElBQUksS0FBbUI7SUFDNUQ7SUFFQSxNQUFNYixRQUFPVSxTQUFpQixFQUFFK0gsTUFBb0M7UUFDbEUsTUFBTXZJLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxhQUFhO1FBQ25FLE1BQU12QiwwREFBTUEsQ0FBQ2dCLFFBQVE7WUFBRSxHQUFHc0ksTUFBTTtZQUFFL0g7UUFBVTtJQUM5QztJQUVBLE1BQU1JLFFBQU9KLFNBQWlCLEVBQUVHLElBQXdCO1FBQ3RELE1BQU1YLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVEsV0FBVyxhQUFhO1FBQ25FLE1BQU10Qiw2REFBU0EsQ0FBQ2UsUUFBUVU7SUFDMUI7QUFDRixFQUFDO0FBRUQsK0RBQStEO0FBQ3hELE1BQU02SCxrQkFBa0I7SUFDN0IsTUFBTUMsS0FBSWpJLFNBQWlCLEVBQUVpSSxHQUF1QztRQUNsRSxNQUFNekksWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDRCw4REFBVUEsQ0FBQ21CLFdBQVcsYUFBYVEsV0FBVztRQUNqRSxNQUFNdkIsMERBQU1BLENBQUNnQixRQUFRO1lBQ25CLEdBQUd3SSxHQUFHO1lBQ052SSxXQUFXVix5REFBU0EsQ0FBQ1csR0FBRztRQUMxQjtJQUNGO0lBRUEsTUFBTXVJLGFBQVlsSSxTQUFpQixFQUFFbUksT0FBZTtZQUFFcEIsYUFBQUEsaUVBQWE7UUFDakUsTUFBTXZILFlBQVlMO1FBQ2xCLE1BQU1zQixJQUFJOUIseURBQUtBLENBQ2JOLDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXLGNBQzlDcEIseURBQUtBLENBQUMsV0FBVyxNQUFNdUosVUFDdkJ0SiwyREFBT0EsQ0FBQyxhQUFhLFNBQ3JCQyx5REFBS0EsQ0FBQ2lJO1FBRVIsTUFBTXJHLFdBQVcsTUFBTWxDLDJEQUFPQSxDQUFDaUM7UUFDL0IsT0FBT0MsU0FBU0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQ3RDLE1BQVM7Z0JBQUV3QixJQUFJeEIsSUFBSXdCLEVBQUU7Z0JBQUUsR0FBR3hCLElBQUk2QixJQUFJLEVBQUU7WUFBQztJQUNqRTtJQUVBLE1BQU1pSSxTQUFRcEksU0FBaUI7WUFBRStHLGFBQUFBLGlFQUFhO1FBQzVDLE1BQU12SCxZQUFZTDtRQUNsQixNQUFNc0IsSUFBSTlCLHlEQUFLQSxDQUNiTiw4REFBVUEsQ0FBQ21CLFdBQVcsYUFBYVEsV0FBVyxjQUM5Q25CLDJEQUFPQSxDQUFDLGFBQWEsU0FDckJDLHlEQUFLQSxDQUFDaUk7UUFFUixNQUFNckcsV0FBVyxNQUFNbEMsMkRBQU9BLENBQUNpQztRQUMvQixPQUFPQyxTQUFTQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDdEMsTUFBUztnQkFBRXdCLElBQUl4QixJQUFJd0IsRUFBRTtnQkFBRSxHQUFHeEIsSUFBSTZCLElBQUksRUFBRTtZQUFDO0lBQ2pFO0FBQ0YsRUFBQztBQUVELDZEQUE2RDtBQUN0RCxlQUFla0ksbUJBQ3BCckksU0FBaUIsRUFDakJzSSxPQUEwRTtJQUUxRSxNQUFNOUksWUFBWUw7SUFDbEIsTUFBTW9KLGFBQWF4Siw4REFBVUEsQ0FBQ1M7SUFFOUIsS0FBSyxNQUFNWSxVQUFVa0ksUUFBUztRQUM1QixNQUFNN0ksU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUSxXQUFXLFNBQVNJLE9BQU9xQixNQUFNLEVBQUUsVUFBVTtRQUN4RixNQUFNK0csZ0JBQWdCcEksT0FBT3FJLElBQUksS0FBSyxRQUFRckksT0FBT3FHLE1BQU0sR0FBRyxDQUFDckcsT0FBT3FHLE1BQU07UUFDNUU4QixXQUFXbkksTUFBTSxDQUFDWCxRQUFRO1lBQ3hCb0csa0JBQWtCNUcsNkRBQVNBLENBQUN1SjtZQUM1QnZDLGFBQWFqSCx5REFBU0EsQ0FBQ1csR0FBRztRQUM1QjtJQUNGO0lBRUEsTUFBTTRJLFdBQVdHLE1BQU07QUFDekI7QUFFTyxlQUFlQyx3QkFDcEIzSSxTQUFpQixFQUNqQm1ILFlBQWdFO0lBRWhFLE1BQU0zSCxZQUFZTDtJQUNsQixNQUFNb0osYUFBYXhKLDhEQUFVQSxDQUFDUztJQUU5QixLQUFLLE1BQU1xSCxlQUFlTSxhQUFjO1FBQ3RDLE1BQU0xSCxTQUFTbkIsdURBQUdBLENBQUNELDhEQUFVQSxDQUFDbUIsV0FBVyxhQUFhUSxXQUFXO1FBQ2pFdUksV0FBV0ssR0FBRyxDQUFDbkosUUFBUTtZQUNyQixHQUFHb0gsV0FBVztZQUNkakgsV0FBV1oseURBQVNBLENBQUNXLEdBQUc7UUFDMUI7SUFDRjtJQUVBLE1BQU00SSxXQUFXRyxNQUFNO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvZmlyZWJhc2Utc2VydmljZXMudHM/MmIyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBkb2MsXG4gIGdldERvYyxcbiAgZ2V0RG9jcyxcbiAgc2V0RG9jLFxuICB1cGRhdGVEb2MsXG4gIHF1ZXJ5LFxuICB3aGVyZSxcbiAgb3JkZXJCeSxcbiAgbGltaXQsXG4gIHR5cGUgUXVlcnlDb25zdHJhaW50LFxuICB3cml0ZUJhdGNoLFxuICBUaW1lc3RhbXAsXG4gIGluY3JlbWVudCxcbn0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiXG5pbXBvcnQgeyBkYiwgZ2V0RGIgfSBmcm9tIFwiLi9maXJlYmFzZVwiXG5cbi8vIEhlbHBlciB0byBlbnN1cmUgZGIgaXMgaW5pdGlhbGl6ZWRcbmZ1bmN0aW9uIGVuc3VyZURiKCk6IE5vbk51bGxhYmxlPHR5cGVvZiBkYj4ge1xuICBpZiAoIWRiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyZXN0b3JlIGlzIG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UuXCIpXG4gIH1cbiAgcmV0dXJuIGRiXG59XG5pbXBvcnQgdHlwZSB7XG4gIFVzZXIsXG4gIENvbXBhbnksXG4gIE1MTUNvbmZpZyxcbiAgV2FsbGV0LFxuICBJbmNvbWVUcmFuc2FjdGlvbixcbiAgV2l0aGRyYXdhbCxcbiAgQXVkaXRMb2csXG4gIEJpbmFyeVBvc2l0aW9uLFxuICBXaXRoZHJhd2FsU2V0dGluZ3MsXG59IGZyb20gXCJAL3NoYXJlZC90eXBlc1wiXG5cbi8vID09PT09PT09PT09PT09PT09PT09IENPTVBBTlkgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBjb21wYW55U2VydmljZSA9IHtcbiAgYXN5bmMgY3JlYXRlKGNvbXBhbnk6IE9taXQ8Q29tcGFueSwgXCJpZFwiIHwgXCJjcmVhdGVkQXRcIiB8IFwidXBkYXRlZEF0XCI+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIikpXG4gICAgY29uc3QgdGltZXN0YW1wID0gVGltZXN0YW1wLm5vdygpXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgLi4uY29tcGFueSxcbiAgICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wLFxuICAgICAgdXBkYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgfSlcbiAgICByZXR1cm4gZG9jUmVmLmlkXG4gIH0sXG5cbiAgYXN5bmMgZ2V0QnlJZChjb21wYW55SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgcmV0dXJuIGRvY1NuYXAuZXhpc3RzKCkgPyAoZG9jU25hcC5kYXRhKCkgYXMgQ29tcGFueSkgOiBudWxsXG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlKGNvbXBhbnlJZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPENvbXBhbnk+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZClcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfSxcblxuICBhc3luYyBnZXRBbGwoZmlsdGVycz86IFF1ZXJ5Q29uc3RyYWludFtdKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGJhc2VGaWx0ZXJzID0gW3doZXJlKFwic3RhdHVzXCIsIFwiIT1cIiwgXCJkZWxldGVkXCIpXVxuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmlsdGVycyA/IFsuLi5iYXNlRmlsdGVycywgLi4uZmlsdGVyc10gOiBiYXNlRmlsdGVyc1xuICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiksIC4uLmNvbnN0cmFpbnRzKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pIGFzIENvbXBhbnkpXG4gIH0sXG5cbiAgYXN5bmMgZ2V0V2l0aEJpbGxpbmdJbmZvKGNvbXBhbnlJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IHRoaXMuZ2V0QnlJZChjb21wYW55SWQpXG4gICAgaWYgKCFjb21wYW55KSByZXR1cm4gbnVsbFxuXG4gICAgLy8gR2V0IGFjdGl2ZSBzdWJzY3JpcHRpb25cbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJzdWJzY3JpcHRpb25zXCIpLFxuICAgICAgd2hlcmUoXCJzdGF0dXNcIiwgXCJpblwiLCBbXCJhY3RpdmVcIiwgXCJ0cmlhbFwiXSksXG4gICAgICBvcmRlckJ5KFwiY3JlYXRlZEF0XCIsIFwiZGVzY1wiKSxcbiAgICAgIGxpbWl0KDEpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzbmFwc2hvdC5lbXB0eSA/IG51bGwgOiBzbmFwc2hvdC5kb2NzWzBdLmRhdGEoKVxuXG4gICAgLy8gR2V0IGxhdGVzdCBpbnZvaWNlXG4gICAgY29uc3QgaW52b2ljZVF1ZXJ5ID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImludm9pY2VzXCIpLFxuICAgICAgb3JkZXJCeShcImNyZWF0ZWRBdFwiLCBcImRlc2NcIiksXG4gICAgICBsaW1pdCgxKSxcbiAgICApXG4gICAgY29uc3QgaW52b2ljZVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhpbnZvaWNlUXVlcnkpXG4gICAgY29uc3QgbGF0ZXN0SW52b2ljZSA9IGludm9pY2VTbmFwc2hvdC5lbXB0eSA/IG51bGwgOiBpbnZvaWNlU25hcHNob3QuZG9jc1swXS5kYXRhKClcblxuICAgIHJldHVybiB7XG4gICAgICBjb21wYW55LFxuICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgbGF0ZXN0SW52b2ljZSxcbiAgICAgIGJpbGxpbmdTdGF0dXM6IHN1YnNjcmlwdGlvbj8uc3RhdHVzID09PSBcImFjdGl2ZVwiID8gXCJhY3RpdmVcIiA6IFwiaW5hY3RpdmVcIixcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlQmlsbGluZ1N0YXR1cyhjb21wYW55SWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkKVxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgIGJpbGxpbmdTdGF0dXM6IHN0YXR1cyxcbiAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IFVTRVIgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCB1c2VyU2VydmljZSA9IHtcbiAgYXN5bmMgY3JlYXRlKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VyOiBPbWl0PFVzZXIsIFwiaWRcIiB8IFwicmVnaXN0cmF0aW9uRGF0ZVwiPikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiKSlcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAuLi51c2VyLFxuICAgICAgcmVnaXN0cmF0aW9uRGF0ZTogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gICAgcmV0dXJuIGRvY1JlZi5pZFxuICB9LFxuXG4gIGFzeW5jIGdldEJ5SWQoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIC8vIFRyeSBkaXJlY3QgZG9jdW1lbnQgSUQgZmlyc3RcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICByZXR1cm4geyBpZDogZG9jU25hcC5pZCwgLi4uZG9jU25hcC5kYXRhKCkgfSBhcyBVc2VyXG4gICAgfVxuICAgIC8vIElmIG5vdCBmb3VuZCwgdHJ5IHNlYXJjaGluZyBieSBpZCBmaWVsZFxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiksXG4gICAgICB3aGVyZShcImlkXCIsIFwiPT1cIiwgdXNlcklkKVxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICBpZiAoIXNuYXBzaG90LmVtcHR5KSB7XG4gICAgICBjb25zdCBkb2MgPSBzbmFwc2hvdC5kb2NzWzBdXG4gICAgICByZXR1cm4geyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0gYXMgVXNlclxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIGFzeW5jIGdldEJ5RW1haWwoY29tcGFueUlkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiksIHdoZXJlKFwiZW1haWxcIiwgXCI9PVwiLCBlbWFpbCkpXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgaWYgKHNuYXBzaG90LmVtcHR5KSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGRvYyA9IHNuYXBzaG90LmRvY3NbMF1cbiAgICByZXR1cm4geyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0gYXMgVXNlclxuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8VXNlcj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZClcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCBkYXRhKVxuICB9LFxuXG4gIGFzeW5jIGxpc3RCeUNvbXBhbnkoY29tcGFueUlkOiBzdHJpbmcsIGZpbHRlcnM/OiBRdWVyeUNvbnN0cmFpbnRbXSkge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IGZpbHRlcnMgfHwgW11cbiAgICAvLyBPbmx5IGFkZCBvcmRlckJ5IGlmIHdlIGhhdmUgZmlsdGVycyB0aGF0IHJlcXVpcmUgaXQsIG9yIGlmIG5vIGZpbHRlcnMgZXhpc3RcbiAgICAvLyBJZiBmaWx0ZXJzIGluY2x1ZGUgc3BvbnNvcklkLCB3ZSBuZWVkIHRoZSBpbmRleCBmb3Igc3BvbnNvcklkICsgcmVnaXN0cmF0aW9uRGF0ZVxuICAgIGNvbnN0IGhhc1Nwb25zb3JGaWx0ZXIgPSBjb25zdHJhaW50cy5zb21lKChjOiBhbnkpID0+IGMgJiYgYy5fZmllbGRQYXRoID09PSAnc3BvbnNvcklkJylcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIpLFxuICAgICAgLi4uY29uc3RyYWludHMsXG4gICAgICAuLi4oaGFzU3BvbnNvckZpbHRlciA/IFtvcmRlckJ5KFwicmVnaXN0cmF0aW9uRGF0ZVwiLCBcImRlc2NcIildIDogW10pLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBVc2VyKVxuICB9LFxuXG4gIGFzeW5jIGxpc3RCeVN0YXR1cyhjb21wYW55SWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0QnlDb21wYW55KGNvbXBhbnlJZCwgW3doZXJlKFwic3RhdHVzXCIsIFwiPT1cIiwgc3RhdHVzKV0pXG4gIH0sXG5cbiAgYXN5bmMgZ2V0VG90YWxDb3VudChjb21wYW55SWQ6IHN0cmluZykge1xuICAgICAgaWYgKCFkYikgdGhyb3cgbmV3IEVycm9yKFwiRmlyZXN0b3JlIG5vdCBpbml0aWFsaXplZFwiKVxuICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiKSwgd2hlcmUoXCJzdGF0dXNcIiwgXCIhPVwiLCBcImRlbGV0ZWRcIikpXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LnNpemVcbiAgfSxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gVVNFUiBTRVRUSU5HUyBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGludGVyZmFjZSBVc2VyU2V0dGluZ3Mge1xuICBub3RpZmljYXRpb25zOiB7XG4gICAgZW1haWw6IGJvb2xlYW5cbiAgICBwdXNoOiBib29sZWFuXG4gICAgc21zOiBib29sZWFuXG4gICAgaW5jb21lQWxlcnRzOiBib29sZWFuXG4gICAgd2l0aGRyYXdhbEFsZXJ0czogYm9vbGVhblxuICAgIHRlYW1VcGRhdGVzOiBib29sZWFuXG4gIH1cbiAgc2VjdXJpdHk6IHtcbiAgICB0d29GYWN0b3JBdXRoOiBib29sZWFuXG4gICAgbG9naW5BbGVydHM6IGJvb2xlYW5cbiAgfVxuICBwcmVmZXJlbmNlczoge1xuICAgIHRoZW1lOiBcImxpZ2h0XCIgfCBcImRhcmtcIiB8IFwic3lzdGVtXCJcbiAgICBsYW5ndWFnZTogc3RyaW5nXG4gICAgY3VycmVuY3k6IHN0cmluZ1xuICAgIHRpbWV6b25lOiBzdHJpbmdcbiAgfVxuICBwcml2YWN5OiB7XG4gICAgcHJvZmlsZVZpc2liaWxpdHk6IFwicHVibGljXCIgfCBcInRlYW1cIiB8IFwicHJpdmF0ZVwiXG4gICAgc2hvd0Vhcm5pbmdzOiBib29sZWFuXG4gICAgc2hvd1RlYW06IGJvb2xlYW5cbiAgfVxuICB1cGRhdGVkQXQ/OiBEYXRlXG59XG5cbmV4cG9ydCBjb25zdCB1c2VyU2V0dGluZ3NTZXJ2aWNlID0ge1xuICBhc3luYyBnZXQoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyU2V0dGluZ3MgfCBudWxsPiB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwic2V0dGluZ3NcIiwgXCJtYWluXCIpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2NTbmFwLmRhdGEoKVxuICAgICAgcmV0dXJuIGRhdGEgYXMgVXNlclNldHRpbmdzXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgYXN5bmMgZ2V0T3JDcmVhdGVEZWZhdWx0KGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlclNldHRpbmdzPiB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCB0aGlzLmdldChjb21wYW55SWQsIHVzZXJJZClcbiAgICBpZiAoZXhpc3RpbmcpIHJldHVybiBleGlzdGluZ1xuXG4gICAgY29uc3QgZGVmYXVsdFNldHRpbmdzOiBVc2VyU2V0dGluZ3MgPSB7XG4gICAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICBwdXNoOiB0cnVlLFxuICAgICAgICBzbXM6IGZhbHNlLFxuICAgICAgICBpbmNvbWVBbGVydHM6IHRydWUsXG4gICAgICAgIHdpdGhkcmF3YWxBbGVydHM6IHRydWUsXG4gICAgICAgIHRlYW1VcGRhdGVzOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHNlY3VyaXR5OiB7XG4gICAgICAgIHR3b0ZhY3RvckF1dGg6IGZhbHNlLFxuICAgICAgICBsb2dpbkFsZXJ0czogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBwcmVmZXJlbmNlczoge1xuICAgICAgICB0aGVtZTogXCJzeXN0ZW1cIixcbiAgICAgICAgbGFuZ3VhZ2U6IFwiZW5cIixcbiAgICAgICAgY3VycmVuY3k6IFwiVVNEXCIsXG4gICAgICAgIHRpbWV6b25lOiBcIlVUQ1wiLFxuICAgICAgfSxcbiAgICAgIHByaXZhY3k6IHtcbiAgICAgICAgcHJvZmlsZVZpc2liaWxpdHk6IFwicHVibGljXCIsXG4gICAgICAgIHNob3dFYXJuaW5nczogdHJ1ZSxcbiAgICAgICAgc2hvd1RlYW06IHRydWUsXG4gICAgICB9LFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMudXBkYXRlKGNvbXBhbnlJZCwgdXNlcklkLCBkZWZhdWx0U2V0dGluZ3MpXG4gICAgcmV0dXJuIGRlZmF1bHRTZXR0aW5nc1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIHNldHRpbmdzOiBQYXJ0aWFsPFVzZXJTZXR0aW5ncz4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJzZXR0aW5nc1wiLCBcIm1haW5cIilcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgXG4gICAgaWYgKGV4aXN0aW5nLmV4aXN0cygpKSB7XG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgICAgLi4uc2V0dGluZ3MsXG4gICAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IEJJTkFSWSBUUkVFIFNFUlZJQ0VTID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3QgYmluYXJ5VHJlZVNlcnZpY2UgPSB7XG4gIGFzeW5jIGdldFBvc2l0aW9uKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QmluYXJ5UG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwiYmluYXJ5VHJlZVwiLCBcInBvc2l0aW9uXCIpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgcmV0dXJuIGRvY1NuYXAuZXhpc3RzKCkgPyAoZG9jU25hcC5kYXRhKCkgYXMgQmluYXJ5UG9zaXRpb24pIDogbnVsbFxuICB9LFxuXG4gIC8vIEFsaWFzIGZvciBnZXRQb3NpdGlvbiAoZm9yIGNvbXBhdGliaWxpdHkpXG4gIGFzeW5jIGdldEJpbmFyeVBvc2l0aW9uKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QmluYXJ5UG9zaXRpb24gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb24oY29tcGFueUlkLCB1c2VySWQpXG4gIH0sXG5cbiAgYXN5bmMgc2V0UG9zaXRpb24oY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBwb3NpdGlvbjogQmluYXJ5UG9zaXRpb24pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJiaW5hcnlUcmVlXCIsIFwicG9zaXRpb25cIilcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCBwb3NpdGlvbilcbiAgfSxcblxuICBhc3luYyB1cGRhdGVWb2x1bWUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBzaWRlOiBcImxlZnRcIiB8IFwicmlnaHRcIiwgdm9sdW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJiaW5hcnlUcmVlXCIsIFwicG9zaXRpb25cIilcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICBbYCR7c2lkZX1Wb2x1bWVgXTogaW5jcmVtZW50KHZvbHVtZSksXG4gICAgfSlcbiAgfSxcblxuICBhc3luYyBnZXREb3dubGluZShjb21wYW55SWQ6IHN0cmluZywgc3BvbnNvcklkOiBzdHJpbmcsIGRlcHRoID0gMCwgbWF4RGVwdGggPSAxMCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIFtdXG5cbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IHVzZXJTZXJ2aWNlLmxpc3RCeUNvbXBhbnkoY29tcGFueUlkLCBbd2hlcmUoXCJzcG9uc29ySWRcIiwgXCI9PVwiLCBzcG9uc29ySWQpXSlcblxuICAgIGxldCBkb3dubGluZSA9IHVzZXJzLm1hcCgodSkgPT4gdS5pZClcbiAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHtcbiAgICAgIGNvbnN0IHN1YkRvd25saW5lID0gYXdhaXQgdGhpcy5nZXREb3dubGluZShjb21wYW55SWQsIHVzZXIuaWQsIGRlcHRoICsgMSwgbWF4RGVwdGgpXG4gICAgICBkb3dubGluZSA9IFsuLi5kb3dubGluZSwgLi4uc3ViRG93bmxpbmVdXG4gICAgfVxuICAgIHJldHVybiBkb3dubGluZVxuICB9LFxuXG4gIC8vIEdldCB0ZWFtIGNvdW50IChsZWZ0LCByaWdodCwgdG90YWwpXG4gIGFzeW5jIGdldFRlYW1Db3VudChjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHsgdG90YWw6IG51bWJlcjsgbGVmdDogbnVtYmVyOyByaWdodDogbnVtYmVyIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCB1c2VyU2VydmljZS5saXN0QnlDb21wYW55KGNvbXBhbnlJZCwgW3doZXJlKFwic3BvbnNvcklkXCIsIFwiPT1cIiwgdXNlcklkKV0pXG4gICAgICBcbiAgICAgIGxldCBsZWZ0Q291bnQgPSAwXG4gICAgICBsZXQgcmlnaHRDb3VudCA9IDBcblxuICAgICAgZm9yIChjb25zdCB1c2VyIG9mIHVzZXJzKSB7XG4gICAgICAgIGlmICh1c2VyLnBsYWNlbWVudFNpZGUgPT09IFwibGVmdFwiKSBsZWZ0Q291bnQrK1xuICAgICAgICBlbHNlIGlmICh1c2VyLnBsYWNlbWVudFNpZGUgPT09IFwicmlnaHRcIikgcmlnaHRDb3VudCsrXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsOiB1c2Vycy5sZW5ndGgsXG4gICAgICAgIGxlZnQ6IGxlZnRDb3VudCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0Q291bnQsXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEVycm9yIGdldHRpbmcgdGVhbSBjb3VudDpcIiwgZXJyb3IpXG4gICAgICByZXR1cm4geyB0b3RhbDogMCwgbGVmdDogMCwgcmlnaHQ6IDAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBDYWxjdWxhdGUgdGVhbSB2b2x1bWUgcmVjdXJzaXZlbHlcbiAgYXN5bmMgY2FsY3VsYXRlVGVhbVZvbHVtZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IHRoaXMuZ2V0UG9zaXRpb24oY29tcGFueUlkLCB1c2VySWQpXG4gICAgICBpZiAoIXBvc2l0aW9uKSByZXR1cm4gMFxuXG4gICAgICBsZXQgdm9sdW1lID0gKHBvc2l0aW9uLmxlZnRWb2x1bWUgfHwgMCkgKyAocG9zaXRpb24ucmlnaHRWb2x1bWUgfHwgMClcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgYWRkIGNoaWxkcmVuIHZvbHVtZXNcbiAgICAgIGlmIChwb3NpdGlvbi5sZWZ0KSB7XG4gICAgICAgIHZvbHVtZSArPSBhd2FpdCB0aGlzLmNhbGN1bGF0ZVRlYW1Wb2x1bWUoY29tcGFueUlkLCBwb3NpdGlvbi5sZWZ0KVxuICAgICAgfVxuICAgICAgaWYgKHBvc2l0aW9uLnJpZ2h0KSB7XG4gICAgICAgIHZvbHVtZSArPSBhd2FpdCB0aGlzLmNhbGN1bGF0ZVRlYW1Wb2x1bWUoY29tcGFueUlkLCBwb3NpdGlvbi5yaWdodClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZvbHVtZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBFcnJvciBjYWxjdWxhdGluZyB0ZWFtIHZvbHVtZTpcIiwgZXJyb3IpXG4gICAgICByZXR1cm4gMFxuICAgIH1cbiAgfSxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gV0FMTEVUIFNFUlZJQ0VTID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3Qgd2FsbGV0U2VydmljZSA9IHtcbiAgYXN5bmMgZ2V0T3JDcmVhdGUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxXYWxsZXQ+IHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3YWxsZXRcIiwgXCJtYWluXCIpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG5cbiAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGRvY1NuYXAuZGF0YSgpIGFzIFdhbGxldFxuICAgIH1cblxuICAgIGNvbnN0IG5ld1dhbGxldDogV2FsbGV0ID0ge1xuICAgICAgdXNlcklkLFxuICAgICAgY29tcGFueUlkLFxuICAgICAgYXZhaWxhYmxlQmFsYW5jZTogMCxcbiAgICAgIGxvY2tlZEJhbGFuY2U6IDAsXG4gICAgICB0b3RhbFdpdGhkcmF3bjogMCxcbiAgICAgIHRvdGFsRWFybmVkOiAwLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgfVxuXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwgbmV3V2FsbGV0KVxuICAgIHJldHVybiBuZXdXYWxsZXRcbiAgfSxcblxuICBhc3luYyBnZXRCYWxhbmNlKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHdhbGxldCA9IGF3YWl0IHRoaXMuZ2V0T3JDcmVhdGUoY29tcGFueUlkLCB1c2VySWQpXG4gICAgcmV0dXJuIHtcbiAgICAgIGF2YWlsYWJsZTogd2FsbGV0LmF2YWlsYWJsZUJhbGFuY2UsXG4gICAgICBsb2NrZWQ6IHdhbGxldC5sb2NrZWRCYWxhbmNlLFxuICAgICAgdG90YWw6IHdhbGxldC5hdmFpbGFibGVCYWxhbmNlICsgd2FsbGV0LmxvY2tlZEJhbGFuY2UsXG4gICAgICB3aXRoZHJhd246IHdhbGxldC50b3RhbFdpdGhkcmF3bixcbiAgICAgIGVhcm5lZDogd2FsbGV0LnRvdGFsRWFybmVkLFxuICAgIH1cbiAgfSxcblxuICBhc3luYyBhZGRJbmNvbWUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkLCBcIndhbGxldFwiLCBcIm1haW5cIilcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICBhdmFpbGFibGVCYWxhbmNlOiBpbmNyZW1lbnQoYW1vdW50KSxcbiAgICAgIHRvdGFsRWFybmVkOiBpbmNyZW1lbnQoYW1vdW50KSxcbiAgICAgIGxhc3RVcGRhdGVkOiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfSxcblxuICBhc3luYyBkZWR1Y3RCYWxhbmNlKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3YWxsZXRcIiwgXCJtYWluXCIpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgYXZhaWxhYmxlQmFsYW5jZTogaW5jcmVtZW50KC1hbW91bnQpLFxuICAgICAgbGFzdFVwZGF0ZWQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICB9KVxuICB9LFxuXG4gIGFzeW5jIHJlY29yZFdpdGhkcmF3YWwoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkLCBcIndhbGxldFwiLCBcIm1haW5cIilcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICBhdmFpbGFibGVCYWxhbmNlOiBpbmNyZW1lbnQoLWFtb3VudCksXG4gICAgICB0b3RhbFdpdGhkcmF3bjogaW5jcmVtZW50KGFtb3VudCksXG4gICAgICBsYXN0VXBkYXRlZDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IElOQ09NRSBUUkFOU0FDVElPTiBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IGluY29tZVRyYW5zYWN0aW9uU2VydmljZSA9IHtcbiAgYXN5bmMgY3JlYXRlKGNvbXBhbnlJZDogc3RyaW5nLCB0cmFuc2FjdGlvbjogT21pdDxJbmNvbWVUcmFuc2FjdGlvbiwgXCJpZFwiIHwgXCJjcmVhdGVkQXRcIj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiaW5jb21lVHJhbnNhY3Rpb25zXCIpKVxuICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgIC4uLnRyYW5zYWN0aW9uLFxuICAgICAgY3JlYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgICByZXR1cm4gZG9jUmVmLmlkXG4gIH0sXG5cbiAgYXN5bmMgZ2V0QnlVc2VyKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgbGltaXRDb3VudCA9IDEwMCkge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImluY29tZVRyYW5zYWN0aW9uc1wiKSxcbiAgICAgIHdoZXJlKFwidXNlcklkXCIsIFwiPT1cIiwgdXNlcklkKSxcbiAgICAgIG9yZGVyQnkoXCJjcmVhdGVkQXRcIiwgXCJkZXNjXCIpLFxuICAgICAgbGltaXQobGltaXRDb3VudCksXG4gICAgKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pIGFzIEluY29tZVRyYW5zYWN0aW9uKVxuICB9LFxuXG4gIGFzeW5jIGdldEJ5VHlwZShjb21wYW55SWQ6IHN0cmluZywgaW5jb21lVHlwZTogc3RyaW5nLCBsaW1pdENvdW50ID0gMTAwKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiaW5jb21lVHJhbnNhY3Rpb25zXCIpLFxuICAgICAgd2hlcmUoXCJpbmNvbWVUeXBlXCIsIFwiPT1cIiwgaW5jb21lVHlwZSksXG4gICAgICBvcmRlckJ5KFwiY3JlYXRlZEF0XCIsIFwiZGVzY1wiKSxcbiAgICAgIGxpbWl0KGxpbWl0Q291bnQpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBJbmNvbWVUcmFuc2FjdGlvbilcbiAgfSxcblxuICBhc3luYyBnZXRUb3RhbEJ5VHlwZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIGluY29tZVR5cGU6IHN0cmluZykge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9ucyA9IGF3YWl0IHRoaXMuZ2V0QnlVc2VyKGNvbXBhbnlJZCwgdXNlcklkLCAxMDAwKVxuICAgIHJldHVybiB0cmFuc2FjdGlvbnNcbiAgICAgIC5maWx0ZXIoKHQpID0+IHQuaW5jb21lVHlwZSA9PT0gaW5jb21lVHlwZSAmJiB0LnN0YXR1cyA9PT0gXCJjcmVkaXRlZFwiKVxuICAgICAgLnJlZHVjZSgoc3VtLCB0KSA9PiBzdW0gKyB0LmFtb3VudCwgMClcbiAgfSxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gV0lUSERSQVdBTCBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IHdpdGhkcmF3YWxTZXJ2aWNlID0ge1xuICBhc3luYyBjcmVhdGUoY29tcGFueUlkOiBzdHJpbmcsIHdpdGhkcmF3YWw6IE9taXQ8V2l0aGRyYXdhbCwgXCJpZFwiIHwgXCJyZXF1ZXN0ZWRBdFwiPikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ3aXRoZHJhd2Fsc1wiKSlcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAuLi53aXRoZHJhd2FsLFxuICAgICAgcmVxdWVzdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICB9KVxuICAgIHJldHVybiBkb2NSZWYuaWRcbiAgfSxcblxuICBhc3luYyBnZXRCeUlkKGNvbXBhbnlJZDogc3RyaW5nLCB3aXRoZHJhd2FsSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwid2l0aGRyYXdhbHNcIiwgd2l0aGRyYXdhbElkKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIHJldHVybiBkb2NTbmFwLmV4aXN0cygpID8gKGRvY1NuYXAuZGF0YSgpIGFzIFdpdGhkcmF3YWwpIDogbnVsbFxuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZShjb21wYW55SWQ6IHN0cmluZywgd2l0aGRyYXdhbElkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8V2l0aGRyYXdhbD4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIndpdGhkcmF3YWxzXCIsIHdpdGhkcmF3YWxJZClcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCBkYXRhKVxuICB9LFxuXG4gIGFzeW5jIGxpc3RCeVVzZXIoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwid2l0aGRyYXdhbHNcIiksXG4gICAgICB3aGVyZShcInVzZXJJZFwiLCBcIj09XCIsIHVzZXJJZCksXG4gICAgICBvcmRlckJ5KFwicmVxdWVzdGVkQXRcIiwgXCJkZXNjXCIpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBXaXRoZHJhd2FsKVxuICB9LFxuXG4gIGFzeW5jIGxpc3RCeVN0YXR1cyhjb21wYW55SWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ3aXRoZHJhd2Fsc1wiKSxcbiAgICAgIHdoZXJlKFwic3RhdHVzXCIsIFwiPT1cIiwgc3RhdHVzKSxcbiAgICAgIG9yZGVyQnkoXCJyZXF1ZXN0ZWRBdFwiLCBcImRlc2NcIiksXG4gICAgKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pIGFzIFdpdGhkcmF3YWwpXG4gIH0sXG5cbiAgYXN5bmMgZ2V0U2V0dGluZ3MoY29tcGFueUlkOiBzdHJpbmcpOiBQcm9taXNlPFdpdGhkcmF3YWxTZXR0aW5ncyB8IG51bGw+IHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInNldHRpbmdzXCIsIFwid2l0aGRyYXdhbFwiKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIHJldHVybiBkb2NTbmFwLmV4aXN0cygpID8gKGRvY1NuYXAuZGF0YSgpIGFzIFdpdGhkcmF3YWxTZXR0aW5ncykgOiBudWxsXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IE1MTSBDT05GSUcgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBtbG1Db25maWdTZXJ2aWNlID0ge1xuICBhc3luYyBnZXQoY29tcGFueUlkOiBzdHJpbmcpOiBQcm9taXNlPE1MTUNvbmZpZyB8IG51bGw+IHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIm1sbUNvbmZpZ1wiLCBcIm1haW5cIilcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICByZXR1cm4gZG9jU25hcC5leGlzdHMoKSA/IChkb2NTbmFwLmRhdGEoKSBhcyBNTE1Db25maWcpIDogbnVsbFxuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZShjb21wYW55SWQ6IHN0cmluZywgY29uZmlnOiBPbWl0PE1MTUNvbmZpZywgXCJjb21wYW55SWRcIj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIm1sbUNvbmZpZ1wiLCBcIm1haW5cIilcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7IC4uLmNvbmZpZywgY29tcGFueUlkIH0pXG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlKGNvbXBhbnlJZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE1MTUNvbmZpZz4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIm1sbUNvbmZpZ1wiLCBcIm1haW5cIilcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCBkYXRhKVxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBBVURJVCBMT0cgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBhdWRpdExvZ1NlcnZpY2UgPSB7XG4gIGFzeW5jIGxvZyhjb21wYW55SWQ6IHN0cmluZywgbG9nOiBPbWl0PEF1ZGl0TG9nLCBcImlkXCIgfCBcInRpbWVzdGFtcFwiPikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJhdWRpdExvZ3NcIikpXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgLi4ubG9nLFxuICAgICAgdGltZXN0YW1wOiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfSxcblxuICBhc3luYyBsaXN0QnlBZG1pbihjb21wYW55SWQ6IHN0cmluZywgYWRtaW5JZDogc3RyaW5nLCBsaW1pdENvdW50ID0gMTAwKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiYXVkaXRMb2dzXCIpLFxuICAgICAgd2hlcmUoXCJhZG1pbklkXCIsIFwiPT1cIiwgYWRtaW5JZCksXG4gICAgICBvcmRlckJ5KFwidGltZXN0YW1wXCIsIFwiZGVzY1wiKSxcbiAgICAgIGxpbWl0KGxpbWl0Q291bnQpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBBdWRpdExvZylcbiAgfSxcblxuICBhc3luYyBsaXN0QWxsKGNvbXBhbnlJZDogc3RyaW5nLCBsaW1pdENvdW50ID0gMTAwKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiYXVkaXRMb2dzXCIpLFxuICAgICAgb3JkZXJCeShcInRpbWVzdGFtcFwiLCBcImRlc2NcIiksXG4gICAgICBsaW1pdChsaW1pdENvdW50KSxcbiAgICApXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgQXVkaXRMb2cpXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IEJBVENIIE9QRVJBVElPTlMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaFVwZGF0ZVdhbGxldHMoXG4gIGNvbXBhbnlJZDogc3RyaW5nLFxuICB1cGRhdGVzOiBBcnJheTx7IHVzZXJJZDogc3RyaW5nOyBhbW91bnQ6IG51bWJlcjsgdHlwZTogXCJhZGRcIiB8IFwiZGVkdWN0XCIgfT4sXG4pIHtcbiAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICBjb25zdCBiYXRjaFdyaXRlID0gd3JpdGVCYXRjaChmaXJlc3RvcmUpXG5cbiAgZm9yIChjb25zdCB1cGRhdGUgb2YgdXBkYXRlcykge1xuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1cGRhdGUudXNlcklkLCBcIndhbGxldFwiLCBcIm1haW5cIilcbiAgICBjb25zdCBpbmNyZW1lbnRfdmFsID0gdXBkYXRlLnR5cGUgPT09IFwiYWRkXCIgPyB1cGRhdGUuYW1vdW50IDogLXVwZGF0ZS5hbW91bnRcbiAgICBiYXRjaFdyaXRlLnVwZGF0ZShkb2NSZWYsIHtcbiAgICAgIGF2YWlsYWJsZUJhbGFuY2U6IGluY3JlbWVudChpbmNyZW1lbnRfdmFsKSxcbiAgICAgIGxhc3RVcGRhdGVkOiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfVxuXG4gIGF3YWl0IGJhdGNoV3JpdGUuY29tbWl0KClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoQ3JlYXRlVHJhbnNhY3Rpb25zKFxuICBjb21wYW55SWQ6IHN0cmluZyxcbiAgdHJhbnNhY3Rpb25zOiBBcnJheTxPbWl0PEluY29tZVRyYW5zYWN0aW9uLCBcImlkXCIgfCBcImNyZWF0ZWRBdFwiPj4sXG4pIHtcbiAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICBjb25zdCBiYXRjaFdyaXRlID0gd3JpdGVCYXRjaChmaXJlc3RvcmUpXG5cbiAgZm9yIChjb25zdCB0cmFuc2FjdGlvbiBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJpbmNvbWVUcmFuc2FjdGlvbnNcIikpXG4gICAgYmF0Y2hXcml0ZS5zZXQoZG9jUmVmLCB7XG4gICAgICAuLi50cmFuc2FjdGlvbixcbiAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH1cblxuICBhd2FpdCBiYXRjaFdyaXRlLmNvbW1pdCgpXG59XG4iXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsImdldERvYyIsImdldERvY3MiLCJzZXREb2MiLCJ1cGRhdGVEb2MiLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsImxpbWl0Iiwid3JpdGVCYXRjaCIsIlRpbWVzdGFtcCIsImluY3JlbWVudCIsImRiIiwiZW5zdXJlRGIiLCJFcnJvciIsImNvbXBhbnlTZXJ2aWNlIiwiY3JlYXRlIiwiY29tcGFueSIsImZpcmVzdG9yZSIsImRvY1JlZiIsInRpbWVzdGFtcCIsIm5vdyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImlkIiwiZ2V0QnlJZCIsImNvbXBhbnlJZCIsImRvY1NuYXAiLCJleGlzdHMiLCJkYXRhIiwidXBkYXRlIiwiZ2V0QWxsIiwiZmlsdGVycyIsImJhc2VGaWx0ZXJzIiwiY29uc3RyYWludHMiLCJxIiwic25hcHNob3QiLCJkb2NzIiwibWFwIiwiZ2V0V2l0aEJpbGxpbmdJbmZvIiwic3Vic2NyaXB0aW9uIiwiZW1wdHkiLCJpbnZvaWNlUXVlcnkiLCJpbnZvaWNlU25hcHNob3QiLCJsYXRlc3RJbnZvaWNlIiwiYmlsbGluZ1N0YXR1cyIsInN0YXR1cyIsInVwZGF0ZUJpbGxpbmdTdGF0dXMiLCJ1c2VyU2VydmljZSIsInVzZXIiLCJyZWdpc3RyYXRpb25EYXRlIiwidXNlcklkIiwiZ2V0QnlFbWFpbCIsImVtYWlsIiwibGlzdEJ5Q29tcGFueSIsImhhc1Nwb25zb3JGaWx0ZXIiLCJzb21lIiwiYyIsIl9maWVsZFBhdGgiLCJsaXN0QnlTdGF0dXMiLCJnZXRUb3RhbENvdW50Iiwic2l6ZSIsInVzZXJTZXR0aW5nc1NlcnZpY2UiLCJnZXQiLCJnZXRPckNyZWF0ZURlZmF1bHQiLCJleGlzdGluZyIsImRlZmF1bHRTZXR0aW5ncyIsIm5vdGlmaWNhdGlvbnMiLCJwdXNoIiwic21zIiwiaW5jb21lQWxlcnRzIiwid2l0aGRyYXdhbEFsZXJ0cyIsInRlYW1VcGRhdGVzIiwic2VjdXJpdHkiLCJ0d29GYWN0b3JBdXRoIiwibG9naW5BbGVydHMiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwibGFuZ3VhZ2UiLCJjdXJyZW5jeSIsInRpbWV6b25lIiwicHJpdmFjeSIsInByb2ZpbGVWaXNpYmlsaXR5Iiwic2hvd0Vhcm5pbmdzIiwic2hvd1RlYW0iLCJEYXRlIiwic2V0dGluZ3MiLCJiaW5hcnlUcmVlU2VydmljZSIsImdldFBvc2l0aW9uIiwiZ2V0QmluYXJ5UG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInBvc2l0aW9uIiwidXBkYXRlVm9sdW1lIiwic2lkZSIsInZvbHVtZSIsImdldERvd25saW5lIiwic3BvbnNvcklkIiwiZGVwdGgiLCJtYXhEZXB0aCIsInVzZXJzIiwiZG93bmxpbmUiLCJ1Iiwic3ViRG93bmxpbmUiLCJnZXRUZWFtQ291bnQiLCJsZWZ0Q291bnQiLCJyaWdodENvdW50IiwicGxhY2VtZW50U2lkZSIsInRvdGFsIiwibGVuZ3RoIiwibGVmdCIsInJpZ2h0IiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlVGVhbVZvbHVtZSIsImxlZnRWb2x1bWUiLCJyaWdodFZvbHVtZSIsIndhbGxldFNlcnZpY2UiLCJnZXRPckNyZWF0ZSIsIm5ld1dhbGxldCIsImF2YWlsYWJsZUJhbGFuY2UiLCJsb2NrZWRCYWxhbmNlIiwidG90YWxXaXRoZHJhd24iLCJ0b3RhbEVhcm5lZCIsImxhc3RVcGRhdGVkIiwiZ2V0QmFsYW5jZSIsIndhbGxldCIsImF2YWlsYWJsZSIsImxvY2tlZCIsIndpdGhkcmF3biIsImVhcm5lZCIsImFkZEluY29tZSIsImFtb3VudCIsImRlZHVjdEJhbGFuY2UiLCJyZWNvcmRXaXRoZHJhd2FsIiwiaW5jb21lVHJhbnNhY3Rpb25TZXJ2aWNlIiwidHJhbnNhY3Rpb24iLCJnZXRCeVVzZXIiLCJsaW1pdENvdW50IiwiZ2V0QnlUeXBlIiwiaW5jb21lVHlwZSIsImdldFRvdGFsQnlUeXBlIiwidHJhbnNhY3Rpb25zIiwiZmlsdGVyIiwidCIsInJlZHVjZSIsInN1bSIsIndpdGhkcmF3YWxTZXJ2aWNlIiwid2l0aGRyYXdhbCIsInJlcXVlc3RlZEF0Iiwid2l0aGRyYXdhbElkIiwibGlzdEJ5VXNlciIsImdldFNldHRpbmdzIiwibWxtQ29uZmlnU2VydmljZSIsImNvbmZpZyIsImF1ZGl0TG9nU2VydmljZSIsImxvZyIsImxpc3RCeUFkbWluIiwiYWRtaW5JZCIsImxpc3RBbGwiLCJiYXRjaFVwZGF0ZVdhbGxldHMiLCJ1cGRhdGVzIiwiYmF0Y2hXcml0ZSIsImluY3JlbWVudF92YWwiLCJ0eXBlIiwiY29tbWl0IiwiYmF0Y2hDcmVhdGVUcmFuc2FjdGlvbnMiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firebase-services.ts\n"));

/***/ })

});