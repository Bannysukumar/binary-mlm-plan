"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/user/page",{

/***/ "(app-pages-browser)/./src/lib/firebase-services.ts":
/*!**************************************!*\
  !*** ./src/lib/firebase-services.ts ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auditLogService: function() { return /* binding */ auditLogService; },\n/* harmony export */   batchCreateTransactions: function() { return /* binding */ batchCreateTransactions; },\n/* harmony export */   batchUpdateWallets: function() { return /* binding */ batchUpdateWallets; },\n/* harmony export */   binaryTreeService: function() { return /* binding */ binaryTreeService; },\n/* harmony export */   companyService: function() { return /* binding */ companyService; },\n/* harmony export */   incomeTransactionService: function() { return /* binding */ incomeTransactionService; },\n/* harmony export */   mlmConfigService: function() { return /* binding */ mlmConfigService; },\n/* harmony export */   userService: function() { return /* binding */ userService; },\n/* harmony export */   userSettingsService: function() { return /* binding */ userSettingsService; },\n/* harmony export */   walletService: function() { return /* binding */ walletService; },\n/* harmony export */   withdrawalService: function() { return /* binding */ withdrawalService; }\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n\n\n// Helper to ensure db is initialized\nfunction ensureDb() {\n    if (!_firebase__WEBPACK_IMPORTED_MODULE_1__.db) {\n        throw new Error(\"Firestore is not initialized. Please refresh the page.\");\n    }\n    return _firebase__WEBPACK_IMPORTED_MODULE_1__.db;\n}\n// ==================== COMPANY SERVICES ====================\nconst companyService = {\n    async create (company) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\"));\n        const timestamp = firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now();\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...company,\n            createdAt: timestamp,\n            updatedAt: timestamp\n        });\n        return docRef.id;\n    },\n    async getById (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async update (companyId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            ...data,\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async getAll (filters) {\n        const firestore = ensureDb();\n        const baseFilters = [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"!=\", \"deleted\")\n        ];\n        const constraints = filters ? [\n            ...baseFilters,\n            ...filters\n        ] : baseFilters;\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\"), ...constraints);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getWithBillingInfo (companyId) {\n        const company = await this.getById(companyId);\n        if (!company) return null;\n        // Get active subscription\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"subscriptions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"in\", [\n            \"active\",\n            \"trial\"\n        ]), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        const subscription = snapshot.empty ? null : snapshot.docs[0].data();\n        // Get latest invoice\n        const invoiceQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"invoices\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const invoiceSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(invoiceQuery);\n        const latestInvoice = invoiceSnapshot.empty ? null : invoiceSnapshot.docs[0].data();\n        return {\n            company,\n            subscription,\n            latestInvoice,\n            billingStatus: (subscription === null || subscription === void 0 ? void 0 : subscription.status) === \"active\" ? \"active\" : \"inactive\"\n        };\n    },\n    async updateBillingStatus (companyId, status) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            billingStatus: status,\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n};\n// ==================== USER SERVICES ====================\nconst userService = {\n    async create (companyId, user) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...user,\n            registrationDate: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getById (companyId, userId) {\n        const firestore = ensureDb();\n        // Try direct document ID first\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return {\n                id: docSnap.id,\n                ...docSnap.data()\n            };\n        }\n        // If not found, try searching by id field\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"id\", \"==\", userId));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!snapshot.empty) {\n            const doc = snapshot.docs[0];\n            return {\n                id: doc.id,\n                ...doc.data()\n            };\n        }\n        return null;\n    },\n    async getByEmail (companyId, email) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"email\", \"==\", email));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (snapshot.empty) return null;\n        const doc = snapshot.docs[0];\n        return {\n            id: doc.id,\n            ...doc.data()\n        };\n    },\n    async update (companyId, userId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    },\n    async listByCompany (companyId, filters) {\n        const firestore = ensureDb();\n        const constraints = filters || [];\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"users\"), ...constraints, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"registrationDate\", \"desc\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listByStatus (companyId, status) {\n        return this.listByCompany(companyId, [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status)\n        ]);\n    },\n    async getTotalCount (companyId) {\n        if (!_firebase__WEBPACK_IMPORTED_MODULE_1__.db) throw new Error(\"Firestore not initialized\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"companies\", companyId, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"!=\", \"deleted\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.size;\n    }\n};\nconst userSettingsService = {\n    async get (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"settings\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            const data = docSnap.data();\n            return data;\n        }\n        return null;\n    },\n    async getOrCreateDefault (companyId, userId) {\n        const existing = await this.get(companyId, userId);\n        if (existing) return existing;\n        const defaultSettings = {\n            notifications: {\n                email: true,\n                push: true,\n                sms: false,\n                incomeAlerts: true,\n                withdrawalAlerts: true,\n                teamUpdates: true\n            },\n            security: {\n                twoFactorAuth: false,\n                loginAlerts: true\n            },\n            preferences: {\n                theme: \"system\",\n                language: \"en\",\n                currency: \"USD\",\n                timezone: \"UTC\"\n            },\n            privacy: {\n                profileVisibility: \"public\",\n                showEarnings: true,\n                showTeam: true\n            },\n            updatedAt: new Date()\n        };\n        await this.update(companyId, userId, defaultSettings);\n        return defaultSettings;\n    },\n    async update (companyId, userId, settings) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"settings\", \"main\");\n        const existing = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (existing.exists()) {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n                ...settings,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        } else {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        }\n    }\n};\n// ==================== BINARY TREE SERVICES ====================\nconst binaryTreeService = {\n    async getPosition (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    // Alias for getPosition (for compatibility)\n    async getBinaryPosition (companyId, userId) {\n        return this.getPosition(companyId, userId);\n    },\n    async setPosition (companyId, userId, position) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, position);\n    },\n    async updateVolume (companyId, userId, side, volume) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"binaryTree\", \"position\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            [\"\".concat(side, \"Volume\")]: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(volume)\n        });\n    },\n    async getDownline (companyId, sponsorId) {\n        let depth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, maxDepth = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 10;\n        if (depth > maxDepth) return [];\n        const users = await userService.listByCompany(companyId, [\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"sponsorId\", \"==\", sponsorId)\n        ]);\n        let downline = users.map((u)=>u.id);\n        for (const user of users){\n            const subDownline = await this.getDownline(companyId, user.id, depth + 1, maxDepth);\n            downline = [\n                ...downline,\n                ...subDownline\n            ];\n        }\n        return downline;\n    },\n    // Get team count (left, right, total)\n    async getTeamCount (companyId, userId) {\n        try {\n            const users = await userService.listByCompany(companyId, [\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"sponsorId\", \"==\", userId)\n            ]);\n            let leftCount = 0;\n            let rightCount = 0;\n            for (const user of users){\n                if (user.placementSide === \"left\") leftCount++;\n                else if (user.placementSide === \"right\") rightCount++;\n            }\n            return {\n                total: users.length,\n                left: leftCount,\n                right: rightCount\n            };\n        } catch (error) {\n            console.error(\"[v0] Error getting team count:\", error);\n            return {\n                total: 0,\n                left: 0,\n                right: 0\n            };\n        }\n    },\n    // Calculate team volume recursively\n    async calculateTeamVolume (companyId, userId) {\n        try {\n            const position = await this.getPosition(companyId, userId);\n            if (!position) return 0;\n            let volume = (position.leftVolume || 0) + (position.rightVolume || 0);\n            // Recursively add children volumes\n            if (position.left) {\n                volume += await this.calculateTeamVolume(companyId, position.left);\n            }\n            if (position.right) {\n                volume += await this.calculateTeamVolume(companyId, position.right);\n            }\n            return volume;\n        } catch (error) {\n            console.error(\"[v0] Error calculating team volume:\", error);\n            return 0;\n        }\n    }\n};\n// ==================== WALLET SERVICES ====================\nconst walletService = {\n    async getOrCreate (companyId, userId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return docSnap.data();\n        }\n        const newWallet = {\n            userId,\n            companyId,\n            availableBalance: 0,\n            lockedBalance: 0,\n            totalWithdrawn: 0,\n            totalEarned: 0,\n            lastUpdated: new Date()\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, newWallet);\n        return newWallet;\n    },\n    async getBalance (companyId, userId) {\n        const wallet = await this.getOrCreate(companyId, userId);\n        return {\n            available: wallet.availableBalance,\n            locked: wallet.lockedBalance,\n            total: wallet.availableBalance + wallet.lockedBalance,\n            withdrawn: wallet.totalWithdrawn,\n            earned: wallet.totalEarned\n        };\n    },\n    async addIncome (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            totalEarned: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async deductBalance (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(-amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async recordWithdrawal (companyId, userId, amount) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", userId, \"wallet\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(-amount),\n            totalWithdrawn: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(amount),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n};\n// ==================== INCOME TRANSACTION SERVICES ====================\nconst incomeTransactionService = {\n    async create (companyId, transaction) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...transaction,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getByUser (companyId, userId) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getByType (companyId, incomeType) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"incomeType\", \"==\", incomeType), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getTotalByType (companyId, userId, incomeType) {\n        const transactions = await this.getByUser(companyId, userId, 1000);\n        return transactions.filter((t)=>t.incomeType === incomeType && t.status === \"credited\").reduce((sum, t)=>sum + t.amount, 0);\n    }\n};\n// ==================== WITHDRAWAL SERVICES ====================\nconst withdrawalService = {\n    async create (companyId, withdrawal) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...withdrawal,\n            requestedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    },\n    async getById (companyId, withdrawalId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"withdrawals\", withdrawalId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async update (companyId, withdrawalId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"withdrawals\", withdrawalId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    },\n    async listByUser (companyId, userId) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"requestedAt\", \"desc\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listByStatus (companyId, status) {\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"withdrawals\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", status), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"requestedAt\", \"desc\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async getSettings (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"settings\", \"withdrawal\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    }\n};\n// ==================== MLM CONFIG SERVICES ====================\nconst mlmConfigService = {\n    async get (companyId) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        return docSnap.exists() ? docSnap.data() : null;\n    },\n    async create (companyId, config) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...config,\n            companyId\n        });\n    },\n    async update (companyId, data) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"mlmConfig\", \"main\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n    }\n};\n// ==================== AUDIT LOG SERVICES ====================\nconst auditLogService = {\n    async log (companyId, log) {\n        const firestore = ensureDb();\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"));\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            ...log,\n            timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    },\n    async listByAdmin (companyId, adminId) {\n        let limitCount = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"adminId\", \"==\", adminId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"timestamp\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    },\n    async listAll (companyId) {\n        let limitCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 100;\n        const firestore = ensureDb();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"auditLogs\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"timestamp\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    }\n};\n// ==================== BATCH OPERATIONS ====================\nasync function batchUpdateWallets(companyId, updates) {\n    const firestore = ensureDb();\n    const batchWrite = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(firestore);\n    for (const update of updates){\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, \"companies\", companyId, \"users\", update.userId, \"wallet\", \"main\");\n        const increment_val = update.type === \"add\" ? update.amount : -update.amount;\n        batchWrite.update(docRef, {\n            availableBalance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.increment)(increment_val),\n            lastUpdated: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n    await batchWrite.commit();\n}\nasync function batchCreateTransactions(companyId, transactions) {\n    const firestore = ensureDb();\n    const batchWrite = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(firestore);\n    for (const transaction of transactions){\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, \"companies\", companyId, \"incomeTransactions\"));\n        batchWrite.set(docRef, {\n            ...transaction,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    }\n    await batchWrite.commit();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZWJhc2Utc2VydmljZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQWUyQjtBQUNXO0FBRXRDLHFDQUFxQztBQUNyQyxTQUFTYztJQUNQLElBQUksQ0FBQ0QseUNBQUVBLEVBQUU7UUFDUCxNQUFNLElBQUlFLE1BQU07SUFDbEI7SUFDQSxPQUFPRix5Q0FBRUE7QUFDWDtBQWFBLDZEQUE2RDtBQUN0RCxNQUFNRyxpQkFBaUI7SUFDNUIsTUFBTUMsUUFBT0MsT0FBd0Q7UUFDbkUsTUFBTUMsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDRCw4REFBVUEsQ0FBQ21CLFdBQVc7UUFDekMsTUFBTUUsWUFBWVYseURBQVNBLENBQUNXLEdBQUc7UUFDL0IsTUFBTWxCLDBEQUFNQSxDQUFDZ0IsUUFBUTtZQUNuQixHQUFHRixPQUFPO1lBQ1ZLLFdBQVdGO1lBQ1hHLFdBQVdIO1FBQ2I7UUFDQSxPQUFPRCxPQUFPSyxFQUFFO0lBQ2xCO0lBRUEsTUFBTUMsU0FBUUMsU0FBaUI7UUFDN0IsTUFBTVIsWUFBWUw7UUFDbEIsTUFBTU0sU0FBU25CLHVEQUFHQSxDQUFDa0IsV0FBVyxhQUFhUTtRQUMzQyxNQUFNQyxVQUFVLE1BQU0xQiwwREFBTUEsQ0FBQ2tCO1FBQzdCLE9BQU9RLFFBQVFDLE1BQU0sS0FBTUQsUUFBUUUsSUFBSSxLQUFpQjtJQUMxRDtJQUVBLE1BQU1DLFFBQU9KLFNBQWlCLEVBQUVHLElBQXNCO1FBQ3BELE1BQU1YLFlBQVlMO1FBQ2xCLE1BQU1NLFNBQVNuQix1REFBR0EsQ0FBQ2tCLFdBQVcsYUFBYVE7UUFDM0MsTUFBTXRCLDZEQUFTQSxDQUFDZSxRQUFRO1lBQ3RCLEdBQUdVLElBQUk7WUFDUE4sV0FBV2IseURBQVNBLENBQUNXLEdBQUc7UUFDMUI7SUFDRjtJQUVBLE1BQU1VLFFBQU9DLE9BQTJCO1FBQ3RDLE1BQU1kLFlBQVlMO1FBQ2xCLE1BQU1vQixjQUFj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TUFBTTtRQUM1RThCLFdBQVcvSCxNQUFNLENBQUNYLFFBQVE7WUFDeEJnRyxrQkFBa0J4Ryw2REFBU0EsQ0FBQ21KO1lBQzVCdkMsYUFBYTdHLHlEQUFTQSxDQUFDVyxHQUFHO1FBQzVCO0lBQ0Y7SUFFQSxNQUFNd0ksV0FBV0csTUFBTTtBQUN6QjtBQUVPLGVBQWVDLHdCQUNwQnZJLFNBQWlCLEVBQ2pCK0csWUFBZ0U7SUFFaEUsTUFBTXZILFlBQVlMO0lBQ2xCLE1BQU1nSixhQUFhcEosOERBQVVBLENBQUNTO0lBRTlCLEtBQUssTUFBTWlILGVBQWVNLGFBQWM7UUFDdEMsTUFBTXRILFNBQVNuQix1REFBR0EsQ0FBQ0QsOERBQVVBLENBQUNtQixXQUFXLGFBQWFRLFdBQVc7UUFDakVtSSxXQUFXSyxHQUFHLENBQUMvSSxRQUFRO1lBQ3JCLEdBQUdnSCxXQUFXO1lBQ2Q3RyxXQUFXWix5REFBU0EsQ0FBQ1csR0FBRztRQUMxQjtJQUNGO0lBRUEsTUFBTXdJLFdBQVdHLE1BQU07QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9maXJlYmFzZS1zZXJ2aWNlcy50cz8yYjJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbGxlY3Rpb24sXG4gIGRvYyxcbiAgZ2V0RG9jLFxuICBnZXREb2NzLFxuICBzZXREb2MsXG4gIHVwZGF0ZURvYyxcbiAgcXVlcnksXG4gIHdoZXJlLFxuICBvcmRlckJ5LFxuICBsaW1pdCxcbiAgdHlwZSBRdWVyeUNvbnN0cmFpbnQsXG4gIHdyaXRlQmF0Y2gsXG4gIFRpbWVzdGFtcCxcbiAgaW5jcmVtZW50LFxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCJcbmltcG9ydCB7IGRiLCBnZXREYiB9IGZyb20gXCIuL2ZpcmViYXNlXCJcblxuLy8gSGVscGVyIHRvIGVuc3VyZSBkYiBpcyBpbml0aWFsaXplZFxuZnVuY3Rpb24gZW5zdXJlRGIoKTogTm9uTnVsbGFibGU8dHlwZW9mIGRiPiB7XG4gIGlmICghZGIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaXJlc3RvcmUgaXMgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZS5cIilcbiAgfVxuICByZXR1cm4gZGJcbn1cbmltcG9ydCB0eXBlIHtcbiAgVXNlcixcbiAgQ29tcGFueSxcbiAgTUxNQ29uZmlnLFxuICBXYWxsZXQsXG4gIEluY29tZVRyYW5zYWN0aW9uLFxuICBXaXRoZHJhd2FsLFxuICBBdWRpdExvZyxcbiAgQmluYXJ5UG9zaXRpb24sXG4gIFdpdGhkcmF3YWxTZXR0aW5ncyxcbn0gZnJvbSBcIkAvc2hhcmVkL3R5cGVzXCJcblxuLy8gPT09PT09PT09PT09PT09PT09PT0gQ09NUEFOWSBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IGNvbXBhbnlTZXJ2aWNlID0ge1xuICBhc3luYyBjcmVhdGUoY29tcGFueTogT21pdDxDb21wYW55LCBcImlkXCIgfCBcImNyZWF0ZWRBdFwiIHwgXCJ1cGRhdGVkQXRcIj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiKSlcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBUaW1lc3RhbXAubm93KClcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAuLi5jb21wYW55LFxuICAgICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCxcbiAgICB9KVxuICAgIHJldHVybiBkb2NSZWYuaWRcbiAgfSxcblxuICBhc3luYyBnZXRCeUlkKGNvbXBhbnlJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZClcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICByZXR1cm4gZG9jU25hcC5leGlzdHMoKSA/IChkb2NTbmFwLmRhdGEoKSBhcyBDb21wYW55KSA6IG51bGxcbiAgfSxcblxuICBhc3luYyB1cGRhdGUoY29tcGFueUlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8Q29tcGFueT4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkKVxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICB9KVxuICB9LFxuXG4gIGFzeW5jIGdldEFsbChmaWx0ZXJzPzogUXVlcnlDb25zdHJhaW50W10pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgYmFzZUZpbHRlcnMgPSBbd2hlcmUoXCJzdGF0dXNcIiwgXCIhPVwiLCBcImRlbGV0ZWRcIildXG4gICAgY29uc3QgY29uc3RyYWludHMgPSBmaWx0ZXJzID8gWy4uLmJhc2VGaWx0ZXJzLCAuLi5maWx0ZXJzXSA6IGJhc2VGaWx0ZXJzXG4gICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiKSwgLi4uY29uc3RyYWludHMpXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgQ29tcGFueSlcbiAgfSxcblxuICBhc3luYyBnZXRXaXRoQmlsbGluZ0luZm8oY29tcGFueUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgdGhpcy5nZXRCeUlkKGNvbXBhbnlJZClcbiAgICBpZiAoIWNvbXBhbnkpIHJldHVybiBudWxsXG5cbiAgICAvLyBHZXQgYWN0aXZlIHN1YnNjcmlwdGlvblxuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInN1YnNjcmlwdGlvbnNcIiksXG4gICAgICB3aGVyZShcInN0YXR1c1wiLCBcImluXCIsIFtcImFjdGl2ZVwiLCBcInRyaWFsXCJdKSxcbiAgICAgIG9yZGVyQnkoXCJjcmVhdGVkQXRcIiwgXCJkZXNjXCIpLFxuICAgICAgbGltaXQoMSksXG4gICAgKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHNuYXBzaG90LmVtcHR5ID8gbnVsbCA6IHNuYXBzaG90LmRvY3NbMF0uZGF0YSgpXG5cbiAgICAvLyBHZXQgbGF0ZXN0IGludm9pY2VcbiAgICBjb25zdCBpbnZvaWNlUXVlcnkgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiaW52b2ljZXNcIiksXG4gICAgICBvcmRlckJ5KFwiY3JlYXRlZEF0XCIsIFwiZGVzY1wiKSxcbiAgICAgIGxpbWl0KDEpLFxuICAgIClcbiAgICBjb25zdCBpbnZvaWNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGludm9pY2VRdWVyeSlcbiAgICBjb25zdCBsYXRlc3RJbnZvaWNlID0gaW52b2ljZVNuYXBzaG90LmVtcHR5ID8gbnVsbCA6IGludm9pY2VTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXBhbnksXG4gICAgICBzdWJzY3JpcHRpb24sXG4gICAgICBsYXRlc3RJbnZvaWNlLFxuICAgICAgYmlsbGluZ1N0YXR1czogc3Vic2NyaXB0aW9uPy5zdGF0dXMgPT09IFwiYWN0aXZlXCIgPyBcImFjdGl2ZVwiIDogXCJpbmFjdGl2ZVwiLFxuICAgIH1cbiAgfSxcblxuICBhc3luYyB1cGRhdGVCaWxsaW5nU3RhdHVzKGNvbXBhbnlJZDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZykge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgYmlsbGluZ1N0YXR1czogc3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfSxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gVVNFUiBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IHVzZXJTZXJ2aWNlID0ge1xuICBhc3luYyBjcmVhdGUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXI6IE9taXQ8VXNlciwgXCJpZFwiIHwgXCJyZWdpc3RyYXRpb25EYXRlXCI+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIpKVxuICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgIC4uLnVzZXIsXG4gICAgICByZWdpc3RyYXRpb25EYXRlOiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgICByZXR1cm4gZG9jUmVmLmlkXG4gIH0sXG5cbiAgYXN5bmMgZ2V0QnlJZChjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgLy8gVHJ5IGRpcmVjdCBkb2N1bWVudCBJRCBmaXJzdFxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiB7IGlkOiBkb2NTbmFwLmlkLCAuLi5kb2NTbmFwLmRhdGEoKSB9IGFzIFVzZXJcbiAgICB9XG4gICAgLy8gSWYgbm90IGZvdW5kLCB0cnkgc2VhcmNoaW5nIGJ5IGlkIGZpZWxkXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiKSxcbiAgICAgIHdoZXJlKFwiaWRcIiwgXCI9PVwiLCB1c2VySWQpXG4gICAgKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIGlmICghc25hcHNob3QuZW1wdHkpIHtcbiAgICAgIGNvbnN0IGRvYyA9IHNuYXBzaG90LmRvY3NbMF1cbiAgICAgIHJldHVybiB7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSBhcyBVc2VyXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgYXN5bmMgZ2V0QnlFbWFpbChjb21wYW55SWQ6IHN0cmluZywgZW1haWw6IHN0cmluZykge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiKSwgd2hlcmUoXCJlbWFpbFwiLCBcIj09XCIsIGVtYWlsKSlcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHJldHVybiBudWxsXG4gICAgY29uc3QgZG9jID0gc25hcHNob3QuZG9jc1swXVxuICAgIHJldHVybiB7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSBhcyBVc2VyXG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxVc2VyPikge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkKVxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIGRhdGEpXG4gIH0sXG5cbiAgYXN5bmMgbGlzdEJ5Q29tcGFueShjb21wYW55SWQ6IHN0cmluZywgZmlsdGVycz86IFF1ZXJ5Q29uc3RyYWludFtdKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmlsdGVycyB8fCBbXVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiksXG4gICAgICAuLi5jb25zdHJhaW50cyxcbiAgICAgIG9yZGVyQnkoXCJyZWdpc3RyYXRpb25EYXRlXCIsIFwiZGVzY1wiKSxcbiAgICApXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgVXNlcilcbiAgfSxcblxuICBhc3luYyBsaXN0QnlTdGF0dXMoY29tcGFueUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMubGlzdEJ5Q29tcGFueShjb21wYW55SWQsIFt3aGVyZShcInN0YXR1c1wiLCBcIj09XCIsIHN0YXR1cyldKVxuICB9LFxuXG4gIGFzeW5jIGdldFRvdGFsQ291bnQoY29tcGFueUlkOiBzdHJpbmcpIHtcbiAgICAgIGlmICghZGIpIHRocm93IG5ldyBFcnJvcihcIkZpcmVzdG9yZSBub3QgaW5pdGlhbGl6ZWRcIilcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiksIHdoZXJlKFwic3RhdHVzXCIsIFwiIT1cIiwgXCJkZWxldGVkXCIpKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIHJldHVybiBzbmFwc2hvdC5zaXplXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IFVTRVIgU0VUVElOR1MgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclNldHRpbmdzIHtcbiAgbm90aWZpY2F0aW9uczoge1xuICAgIGVtYWlsOiBib29sZWFuXG4gICAgcHVzaDogYm9vbGVhblxuICAgIHNtczogYm9vbGVhblxuICAgIGluY29tZUFsZXJ0czogYm9vbGVhblxuICAgIHdpdGhkcmF3YWxBbGVydHM6IGJvb2xlYW5cbiAgICB0ZWFtVXBkYXRlczogYm9vbGVhblxuICB9XG4gIHNlY3VyaXR5OiB7XG4gICAgdHdvRmFjdG9yQXV0aDogYm9vbGVhblxuICAgIGxvZ2luQWxlcnRzOiBib29sZWFuXG4gIH1cbiAgcHJlZmVyZW5jZXM6IHtcbiAgICB0aGVtZTogXCJsaWdodFwiIHwgXCJkYXJrXCIgfCBcInN5c3RlbVwiXG4gICAgbGFuZ3VhZ2U6IHN0cmluZ1xuICAgIGN1cnJlbmN5OiBzdHJpbmdcbiAgICB0aW1lem9uZTogc3RyaW5nXG4gIH1cbiAgcHJpdmFjeToge1xuICAgIHByb2ZpbGVWaXNpYmlsaXR5OiBcInB1YmxpY1wiIHwgXCJ0ZWFtXCIgfCBcInByaXZhdGVcIlxuICAgIHNob3dFYXJuaW5nczogYm9vbGVhblxuICAgIHNob3dUZWFtOiBib29sZWFuXG4gIH1cbiAgdXBkYXRlZEF0PzogRGF0ZVxufVxuXG5leHBvcnQgY29uc3QgdXNlclNldHRpbmdzU2VydmljZSA9IHtcbiAgYXN5bmMgZ2V0KGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlclNldHRpbmdzIHwgbnVsbD4ge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkLCBcInNldHRpbmdzXCIsIFwibWFpblwiKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICBjb25zdCBkYXRhID0gZG9jU25hcC5kYXRhKClcbiAgICAgIHJldHVybiBkYXRhIGFzIFVzZXJTZXR0aW5nc1xuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIGFzeW5jIGdldE9yQ3JlYXRlRGVmYXVsdChjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJTZXR0aW5ncz4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgdGhpcy5nZXQoY29tcGFueUlkLCB1c2VySWQpXG4gICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3RpbmdcblxuICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5nczogVXNlclNldHRpbmdzID0ge1xuICAgICAgbm90aWZpY2F0aW9uczoge1xuICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgcHVzaDogdHJ1ZSxcbiAgICAgICAgc21zOiBmYWxzZSxcbiAgICAgICAgaW5jb21lQWxlcnRzOiB0cnVlLFxuICAgICAgICB3aXRoZHJhd2FsQWxlcnRzOiB0cnVlLFxuICAgICAgICB0ZWFtVXBkYXRlczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBzZWN1cml0eToge1xuICAgICAgICB0d29GYWN0b3JBdXRoOiBmYWxzZSxcbiAgICAgICAgbG9naW5BbGVydHM6IHRydWUsXG4gICAgICB9LFxuICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgdGhlbWU6IFwic3lzdGVtXCIsXG4gICAgICAgIGxhbmd1YWdlOiBcImVuXCIsXG4gICAgICAgIGN1cnJlbmN5OiBcIlVTRFwiLFxuICAgICAgICB0aW1lem9uZTogXCJVVENcIixcbiAgICAgIH0sXG4gICAgICBwcml2YWN5OiB7XG4gICAgICAgIHByb2ZpbGVWaXNpYmlsaXR5OiBcInB1YmxpY1wiLFxuICAgICAgICBzaG93RWFybmluZ3M6IHRydWUsXG4gICAgICAgIHNob3dUZWFtOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShjb21wYW55SWQsIHVzZXJJZCwgZGVmYXVsdFNldHRpbmdzKVxuICAgIHJldHVybiBkZWZhdWx0U2V0dGluZ3NcbiAgfSxcblxuICBhc3luYyB1cGRhdGUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBzZXR0aW5nczogUGFydGlhbDxVc2VyU2V0dGluZ3M+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwic2V0dGluZ3NcIiwgXCJtYWluXCIpXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIFxuICAgIGlmIChleGlzdGluZy5leGlzdHMoKSkge1xuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgIH0pXG4gICAgfVxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBCSU5BUlkgVFJFRSBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IGJpbmFyeVRyZWVTZXJ2aWNlID0ge1xuICBhc3luYyBnZXRQb3NpdGlvbihjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJpbmFyeVBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXNlcklkLCBcImJpbmFyeVRyZWVcIiwgXCJwb3NpdGlvblwiKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuICAgIHJldHVybiBkb2NTbmFwLmV4aXN0cygpID8gKGRvY1NuYXAuZGF0YSgpIGFzIEJpbmFyeVBvc2l0aW9uKSA6IG51bGxcbiAgfSxcblxuICAvLyBBbGlhcyBmb3IgZ2V0UG9zaXRpb24gKGZvciBjb21wYXRpYmlsaXR5KVxuICBhc3luYyBnZXRCaW5hcnlQb3NpdGlvbihjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJpbmFyeVBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uKGNvbXBhbnlJZCwgdXNlcklkKVxuICB9LFxuXG4gIGFzeW5jIHNldFBvc2l0aW9uKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgcG9zaXRpb246IEJpbmFyeVBvc2l0aW9uKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwiYmluYXJ5VHJlZVwiLCBcInBvc2l0aW9uXCIpXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwgcG9zaXRpb24pXG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlVm9sdW1lKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgc2lkZTogXCJsZWZ0XCIgfCBcInJpZ2h0XCIsIHZvbHVtZTogbnVtYmVyKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwiYmluYXJ5VHJlZVwiLCBcInBvc2l0aW9uXCIpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgW2Ake3NpZGV9Vm9sdW1lYF06IGluY3JlbWVudCh2b2x1bWUpLFxuICAgIH0pXG4gIH0sXG5cbiAgYXN5bmMgZ2V0RG93bmxpbmUoY29tcGFueUlkOiBzdHJpbmcsIHNwb25zb3JJZDogc3RyaW5nLCBkZXB0aCA9IDAsIG1heERlcHRoID0gMTApOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiBbXVxuXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCB1c2VyU2VydmljZS5saXN0QnlDb21wYW55KGNvbXBhbnlJZCwgW3doZXJlKFwic3BvbnNvcklkXCIsIFwiPT1cIiwgc3BvbnNvcklkKV0pXG5cbiAgICBsZXQgZG93bmxpbmUgPSB1c2Vycy5tYXAoKHUpID0+IHUuaWQpXG4gICAgZm9yIChjb25zdCB1c2VyIG9mIHVzZXJzKSB7XG4gICAgICBjb25zdCBzdWJEb3dubGluZSA9IGF3YWl0IHRoaXMuZ2V0RG93bmxpbmUoY29tcGFueUlkLCB1c2VyLmlkLCBkZXB0aCArIDEsIG1heERlcHRoKVxuICAgICAgZG93bmxpbmUgPSBbLi4uZG93bmxpbmUsIC4uLnN1YkRvd25saW5lXVxuICAgIH1cbiAgICByZXR1cm4gZG93bmxpbmVcbiAgfSxcblxuICAvLyBHZXQgdGVhbSBjb3VudCAobGVmdCwgcmlnaHQsIHRvdGFsKVxuICBhc3luYyBnZXRUZWFtQ291bnQoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7IHRvdGFsOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ6IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgdXNlclNlcnZpY2UubGlzdEJ5Q29tcGFueShjb21wYW55SWQsIFt3aGVyZShcInNwb25zb3JJZFwiLCBcIj09XCIsIHVzZXJJZCldKVxuICAgICAgXG4gICAgICBsZXQgbGVmdENvdW50ID0gMFxuICAgICAgbGV0IHJpZ2h0Q291bnQgPSAwXG5cbiAgICAgIGZvciAoY29uc3QgdXNlciBvZiB1c2Vycykge1xuICAgICAgICBpZiAodXNlci5wbGFjZW1lbnRTaWRlID09PSBcImxlZnRcIikgbGVmdENvdW50KytcbiAgICAgICAgZWxzZSBpZiAodXNlci5wbGFjZW1lbnRTaWRlID09PSBcInJpZ2h0XCIpIHJpZ2h0Q291bnQrK1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogdXNlcnMubGVuZ3RoLFxuICAgICAgICBsZWZ0OiBsZWZ0Q291bnQsXG4gICAgICAgIHJpZ2h0OiByaWdodENvdW50LFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBFcnJvciBnZXR0aW5nIHRlYW0gY291bnQ6XCIsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgdG90YWw6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2FsY3VsYXRlIHRlYW0gdm9sdW1lIHJlY3Vyc2l2ZWx5XG4gIGFzeW5jIGNhbGN1bGF0ZVRlYW1Wb2x1bWUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBhd2FpdCB0aGlzLmdldFBvc2l0aW9uKGNvbXBhbnlJZCwgdXNlcklkKVxuICAgICAgaWYgKCFwb3NpdGlvbikgcmV0dXJuIDBcblxuICAgICAgbGV0IHZvbHVtZSA9IChwb3NpdGlvbi5sZWZ0Vm9sdW1lIHx8IDApICsgKHBvc2l0aW9uLnJpZ2h0Vm9sdW1lIHx8IDApXG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGFkZCBjaGlsZHJlbiB2b2x1bWVzXG4gICAgICBpZiAocG9zaXRpb24ubGVmdCkge1xuICAgICAgICB2b2x1bWUgKz0gYXdhaXQgdGhpcy5jYWxjdWxhdGVUZWFtVm9sdW1lKGNvbXBhbnlJZCwgcG9zaXRpb24ubGVmdClcbiAgICAgIH1cbiAgICAgIGlmIChwb3NpdGlvbi5yaWdodCkge1xuICAgICAgICB2b2x1bWUgKz0gYXdhaXQgdGhpcy5jYWxjdWxhdGVUZWFtVm9sdW1lKGNvbXBhbnlJZCwgcG9zaXRpb24ucmlnaHQpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2b2x1bWVcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlt2MF0gRXJyb3IgY2FsY3VsYXRpbmcgdGVhbSB2b2x1bWU6XCIsIGVycm9yKVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IFdBTExFVCBTRVJWSUNFUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IHdhbGxldFNlcnZpY2UgPSB7XG4gIGFzeW5jIGdldE9yQ3JlYXRlKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8V2FsbGV0PiB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwid2FsbGV0XCIsIFwibWFpblwiKVxuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKVxuXG4gICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBkb2NTbmFwLmRhdGEoKSBhcyBXYWxsZXRcbiAgICB9XG5cbiAgICBjb25zdCBuZXdXYWxsZXQ6IFdhbGxldCA9IHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNvbXBhbnlJZCxcbiAgICAgIGF2YWlsYWJsZUJhbGFuY2U6IDAsXG4gICAgICBsb2NrZWRCYWxhbmNlOiAwLFxuICAgICAgdG90YWxXaXRoZHJhd246IDAsXG4gICAgICB0b3RhbEVhcm5lZDogMCxcbiAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLFxuICAgIH1cblxuICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIG5ld1dhbGxldClcbiAgICByZXR1cm4gbmV3V2FsbGV0XG4gIH0sXG5cbiAgYXN5bmMgZ2V0QmFsYW5jZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB3YWxsZXQgPSBhd2FpdCB0aGlzLmdldE9yQ3JlYXRlKGNvbXBhbnlJZCwgdXNlcklkKVxuICAgIHJldHVybiB7XG4gICAgICBhdmFpbGFibGU6IHdhbGxldC5hdmFpbGFibGVCYWxhbmNlLFxuICAgICAgbG9ja2VkOiB3YWxsZXQubG9ja2VkQmFsYW5jZSxcbiAgICAgIHRvdGFsOiB3YWxsZXQuYXZhaWxhYmxlQmFsYW5jZSArIHdhbGxldC5sb2NrZWRCYWxhbmNlLFxuICAgICAgd2l0aGRyYXduOiB3YWxsZXQudG90YWxXaXRoZHJhd24sXG4gICAgICBlYXJuZWQ6IHdhbGxldC50b3RhbEVhcm5lZCxcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgYWRkSW5jb21lKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3YWxsZXRcIiwgXCJtYWluXCIpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgYXZhaWxhYmxlQmFsYW5jZTogaW5jcmVtZW50KGFtb3VudCksXG4gICAgICB0b3RhbEVhcm5lZDogaW5jcmVtZW50KGFtb3VudCksXG4gICAgICBsYXN0VXBkYXRlZDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH0sXG5cbiAgYXN5bmMgZGVkdWN0QmFsYW5jZShjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ1c2Vyc1wiLCB1c2VySWQsIFwid2FsbGV0XCIsIFwibWFpblwiKVxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgIGF2YWlsYWJsZUJhbGFuY2U6IGluY3JlbWVudCgtYW1vdW50KSxcbiAgICAgIGxhc3RVcGRhdGVkOiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgfSxcblxuICBhc3luYyByZWNvcmRXaXRoZHJhd2FsKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3YWxsZXRcIiwgXCJtYWluXCIpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwge1xuICAgICAgYXZhaWxhYmxlQmFsYW5jZTogaW5jcmVtZW50KC1hbW91bnQpLFxuICAgICAgdG90YWxXaXRoZHJhd246IGluY3JlbWVudChhbW91bnQpLFxuICAgICAgbGFzdFVwZGF0ZWQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICB9KVxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBJTkNPTUUgVFJBTlNBQ1RJT04gU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBpbmNvbWVUcmFuc2FjdGlvblNlcnZpY2UgPSB7XG4gIGFzeW5jIGNyZWF0ZShjb21wYW55SWQ6IHN0cmluZywgdHJhbnNhY3Rpb246IE9taXQ8SW5jb21lVHJhbnNhY3Rpb24sIFwiaWRcIiB8IFwiY3JlYXRlZEF0XCI+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImluY29tZVRyYW5zYWN0aW9uc1wiKSlcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAuLi50cmFuc2FjdGlvbixcbiAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gICAgcmV0dXJuIGRvY1JlZi5pZFxuICB9LFxuXG4gIGFzeW5jIGdldEJ5VXNlcihjb21wYW55SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIGxpbWl0Q291bnQgPSAxMDApIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJpbmNvbWVUcmFuc2FjdGlvbnNcIiksXG4gICAgICB3aGVyZShcInVzZXJJZFwiLCBcIj09XCIsIHVzZXJJZCksXG4gICAgICBvcmRlckJ5KFwiY3JlYXRlZEF0XCIsIFwiZGVzY1wiKSxcbiAgICAgIGxpbWl0KGxpbWl0Q291bnQpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBJbmNvbWVUcmFuc2FjdGlvbilcbiAgfSxcblxuICBhc3luYyBnZXRCeVR5cGUoY29tcGFueUlkOiBzdHJpbmcsIGluY29tZVR5cGU6IHN0cmluZywgbGltaXRDb3VudCA9IDEwMCkge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImluY29tZVRyYW5zYWN0aW9uc1wiKSxcbiAgICAgIHdoZXJlKFwiaW5jb21lVHlwZVwiLCBcIj09XCIsIGluY29tZVR5cGUpLFxuICAgICAgb3JkZXJCeShcImNyZWF0ZWRBdFwiLCBcImRlc2NcIiksXG4gICAgICBsaW1pdChsaW1pdENvdW50KSxcbiAgICApXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgSW5jb21lVHJhbnNhY3Rpb24pXG4gIH0sXG5cbiAgYXN5bmMgZ2V0VG90YWxCeVR5cGUoY29tcGFueUlkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBpbmNvbWVUeXBlOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBhd2FpdCB0aGlzLmdldEJ5VXNlcihjb21wYW55SWQsIHVzZXJJZCwgMTAwMClcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zXG4gICAgICAuZmlsdGVyKCh0KSA9PiB0LmluY29tZVR5cGUgPT09IGluY29tZVR5cGUgJiYgdC5zdGF0dXMgPT09IFwiY3JlZGl0ZWRcIilcbiAgICAgIC5yZWR1Y2UoKHN1bSwgdCkgPT4gc3VtICsgdC5hbW91bnQsIDApXG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09IFdJVEhEUkFXQUwgU0VSVklDRVMgPT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCB3aXRoZHJhd2FsU2VydmljZSA9IHtcbiAgYXN5bmMgY3JlYXRlKGNvbXBhbnlJZDogc3RyaW5nLCB3aXRoZHJhd2FsOiBPbWl0PFdpdGhkcmF3YWwsIFwiaWRcIiB8IFwicmVxdWVzdGVkQXRcIj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwid2l0aGRyYXdhbHNcIikpXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgLi4ud2l0aGRyYXdhbCxcbiAgICAgIHJlcXVlc3RlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgfSlcbiAgICByZXR1cm4gZG9jUmVmLmlkXG4gIH0sXG5cbiAgYXN5bmMgZ2V0QnlJZChjb21wYW55SWQ6IHN0cmluZywgd2l0aGRyYXdhbElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIndpdGhkcmF3YWxzXCIsIHdpdGhkcmF3YWxJZClcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICByZXR1cm4gZG9jU25hcC5leGlzdHMoKSA/IChkb2NTbmFwLmRhdGEoKSBhcyBXaXRoZHJhd2FsKSA6IG51bGxcbiAgfSxcblxuICBhc3luYyB1cGRhdGUoY29tcGFueUlkOiBzdHJpbmcsIHdpdGhkcmF3YWxJZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPFdpdGhkcmF3YWw+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJ3aXRoZHJhd2Fsc1wiLCB3aXRoZHJhd2FsSWQpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwgZGF0YSlcbiAgfSxcblxuICBhc3luYyBsaXN0QnlVc2VyKGNvbXBhbnlJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcIndpdGhkcmF3YWxzXCIpLFxuICAgICAgd2hlcmUoXCJ1c2VySWRcIiwgXCI9PVwiLCB1c2VySWQpLFxuICAgICAgb3JkZXJCeShcInJlcXVlc3RlZEF0XCIsIFwiZGVzY1wiKSxcbiAgICApXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgV2l0aGRyYXdhbClcbiAgfSxcblxuICBhc3luYyBsaXN0QnlTdGF0dXMoY29tcGFueUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwid2l0aGRyYXdhbHNcIiksXG4gICAgICB3aGVyZShcInN0YXR1c1wiLCBcIj09XCIsIHN0YXR1cyksXG4gICAgICBvcmRlckJ5KFwicmVxdWVzdGVkQXRcIiwgXCJkZXNjXCIpLFxuICAgIClcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSlcbiAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSBhcyBXaXRoZHJhd2FsKVxuICB9LFxuXG4gIGFzeW5jIGdldFNldHRpbmdzKGNvbXBhbnlJZDogc3RyaW5nKTogUHJvbWlzZTxXaXRoZHJhd2FsU2V0dGluZ3MgfCBudWxsPiB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJzZXR0aW5nc1wiLCBcIndpdGhkcmF3YWxcIilcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICByZXR1cm4gZG9jU25hcC5leGlzdHMoKSA/IChkb2NTbmFwLmRhdGEoKSBhcyBXaXRoZHJhd2FsU2V0dGluZ3MpIDogbnVsbFxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBNTE0gQ09ORklHIFNFUlZJQ0VTID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3QgbWxtQ29uZmlnU2VydmljZSA9IHtcbiAgYXN5bmMgZ2V0KGNvbXBhbnlJZDogc3RyaW5nKTogUHJvbWlzZTxNTE1Db25maWcgfCBudWxsPiB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJtbG1Db25maWdcIiwgXCJtYWluXCIpXG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpXG4gICAgcmV0dXJuIGRvY1NuYXAuZXhpc3RzKCkgPyAoZG9jU25hcC5kYXRhKCkgYXMgTUxNQ29uZmlnKSA6IG51bGxcbiAgfSxcblxuICBhc3luYyBjcmVhdGUoY29tcGFueUlkOiBzdHJpbmcsIGNvbmZpZzogT21pdDxNTE1Db25maWcsIFwiY29tcGFueUlkXCI+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJtbG1Db25maWdcIiwgXCJtYWluXCIpXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwgeyAuLi5jb25maWcsIGNvbXBhbnlJZCB9KVxuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZShjb21wYW55SWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxNTE1Db25maWc+KSB7XG4gICAgY29uc3QgZmlyZXN0b3JlID0gZW5zdXJlRGIoKVxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwiY29tcGFuaWVzXCIsIGNvbXBhbnlJZCwgXCJtbG1Db25maWdcIiwgXCJtYWluXCIpXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwgZGF0YSlcbiAgfSxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gQVVESVQgTE9HIFNFUlZJQ0VTID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3QgYXVkaXRMb2dTZXJ2aWNlID0ge1xuICBhc3luYyBsb2coY29tcGFueUlkOiBzdHJpbmcsIGxvZzogT21pdDxBdWRpdExvZywgXCJpZFwiIHwgXCJ0aW1lc3RhbXBcIj4pIHtcbiAgICBjb25zdCBmaXJlc3RvcmUgPSBlbnN1cmVEYigpXG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiYXVkaXRMb2dzXCIpKVxuICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgIC4uLmxvZyxcbiAgICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH0sXG5cbiAgYXN5bmMgbGlzdEJ5QWRtaW4oY29tcGFueUlkOiBzdHJpbmcsIGFkbWluSWQ6IHN0cmluZywgbGltaXRDb3VudCA9IDEwMCkge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImF1ZGl0TG9nc1wiKSxcbiAgICAgIHdoZXJlKFwiYWRtaW5JZFwiLCBcIj09XCIsIGFkbWluSWQpLFxuICAgICAgb3JkZXJCeShcInRpbWVzdGFtcFwiLCBcImRlc2NcIiksXG4gICAgICBsaW1pdChsaW1pdENvdW50KSxcbiAgICApXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkgYXMgQXVkaXRMb2cpXG4gIH0sXG5cbiAgYXN5bmMgbGlzdEFsbChjb21wYW55SWQ6IHN0cmluZywgbGltaXRDb3VudCA9IDEwMCkge1xuICAgIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJjb21wYW5pZXNcIiwgY29tcGFueUlkLCBcImF1ZGl0TG9nc1wiKSxcbiAgICAgIG9yZGVyQnkoXCJ0aW1lc3RhbXBcIiwgXCJkZXNjXCIpLFxuICAgICAgbGltaXQobGltaXRDb3VudCksXG4gICAgKVxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKVxuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pIGFzIEF1ZGl0TG9nKVxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBCQVRDSCBPUEVSQVRJT05TID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmF0Y2hVcGRhdGVXYWxsZXRzKFxuICBjb21wYW55SWQ6IHN0cmluZyxcbiAgdXBkYXRlczogQXJyYXk8eyB1c2VySWQ6IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IHR5cGU6IFwiYWRkXCIgfCBcImRlZHVjdFwiIH0+LFxuKSB7XG4gIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgY29uc3QgYmF0Y2hXcml0ZSA9IHdyaXRlQmF0Y2goZmlyZXN0b3JlKVxuXG4gIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwidXNlcnNcIiwgdXBkYXRlLnVzZXJJZCwgXCJ3YWxsZXRcIiwgXCJtYWluXCIpXG4gICAgY29uc3QgaW5jcmVtZW50X3ZhbCA9IHVwZGF0ZS50eXBlID09PSBcImFkZFwiID8gdXBkYXRlLmFtb3VudCA6IC11cGRhdGUuYW1vdW50XG4gICAgYmF0Y2hXcml0ZS51cGRhdGUoZG9jUmVmLCB7XG4gICAgICBhdmFpbGFibGVCYWxhbmNlOiBpbmNyZW1lbnQoaW5jcmVtZW50X3ZhbCksXG4gICAgICBsYXN0VXBkYXRlZDogVGltZXN0YW1wLm5vdygpLFxuICAgIH0pXG4gIH1cblxuICBhd2FpdCBiYXRjaFdyaXRlLmNvbW1pdCgpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaENyZWF0ZVRyYW5zYWN0aW9ucyhcbiAgY29tcGFueUlkOiBzdHJpbmcsXG4gIHRyYW5zYWN0aW9uczogQXJyYXk8T21pdDxJbmNvbWVUcmFuc2FjdGlvbiwgXCJpZFwiIHwgXCJjcmVhdGVkQXRcIj4+LFxuKSB7XG4gIGNvbnN0IGZpcmVzdG9yZSA9IGVuc3VyZURiKClcbiAgY29uc3QgYmF0Y2hXcml0ZSA9IHdyaXRlQmF0Y2goZmlyZXN0b3JlKVxuXG4gIGZvciAoY29uc3QgdHJhbnNhY3Rpb24gb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNvbXBhbmllc1wiLCBjb21wYW55SWQsIFwiaW5jb21lVHJhbnNhY3Rpb25zXCIpKVxuICAgIGJhdGNoV3JpdGUuc2V0KGRvY1JlZiwge1xuICAgICAgLi4udHJhbnNhY3Rpb24sXG4gICAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICB9KVxuICB9XG5cbiAgYXdhaXQgYmF0Y2hXcml0ZS5jb21taXQoKVxufVxuIl0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJkb2MiLCJnZXREb2MiLCJnZXREb2NzIiwic2V0RG9jIiwidXBkYXRlRG9jIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJsaW1pdCIsIndyaXRlQmF0Y2giLCJUaW1lc3RhbXAiLCJpbmNyZW1lbnQiLCJkYiIsImVuc3VyZURiIiwiRXJyb3IiLCJjb21wYW55U2VydmljZSIsImNyZWF0ZSIsImNvbXBhbnkiLCJmaXJlc3RvcmUiLCJkb2NSZWYiLCJ0aW1lc3RhbXAiLCJub3ciLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJpZCIsImdldEJ5SWQiLCJjb21wYW55SWQiLCJkb2NTbmFwIiwiZXhpc3RzIiwiZGF0YSIsInVwZGF0ZSIsImdldEFsbCIsImZpbHRlcnMiLCJiYXNlRmlsdGVycyIsImNvbnN0cmFpbnRzIiwicSIsInNuYXBzaG90IiwiZG9jcyIsIm1hcCIsImdldFdpdGhCaWxsaW5nSW5mbyIsInN1YnNjcmlwdGlvbiIsImVtcHR5IiwiaW52b2ljZVF1ZXJ5IiwiaW52b2ljZVNuYXBzaG90IiwibGF0ZXN0SW52b2ljZSIsImJpbGxpbmdTdGF0dXMiLCJzdGF0dXMiLCJ1cGRhdGVCaWxsaW5nU3RhdHVzIiwidXNlclNlcnZpY2UiLCJ1c2VyIiwicmVnaXN0cmF0aW9uRGF0ZSIsInVzZXJJZCIsImdldEJ5RW1haWwiLCJlbWFpbCIsImxpc3RCeUNvbXBhbnkiLCJsaXN0QnlTdGF0dXMiLCJnZXRUb3RhbENvdW50Iiwic2l6ZSIsInVzZXJTZXR0aW5nc1NlcnZpY2UiLCJnZXQiLCJnZXRPckNyZWF0ZURlZmF1bHQiLCJleGlzdGluZyIsImRlZmF1bHRTZXR0aW5ncyIsIm5vdGlmaWNhdGlvbnMiLCJwdXNoIiwic21zIiwiaW5jb21lQWxlcnRzIiwid2l0aGRyYXdhbEFsZXJ0cyIsInRlYW1VcGRhdGVzIiwic2VjdXJpdHkiLCJ0d29GYWN0b3JBdXRoIiwibG9naW5BbGVydHMiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwibGFuZ3VhZ2UiLCJjdXJyZW5jeSIsInRpbWV6b25lIiwicHJpdmFjeSIsInByb2ZpbGVWaXNpYmlsaXR5Iiwic2hvd0Vhcm5pbmdzIiwic2hvd1RlYW0iLCJEYXRlIiwic2V0dGluZ3MiLCJiaW5hcnlUcmVlU2VydmljZSIsImdldFBvc2l0aW9uIiwiZ2V0QmluYXJ5UG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInBvc2l0aW9uIiwidXBkYXRlVm9sdW1lIiwic2lkZSIsInZvbHVtZSIsImdldERvd25saW5lIiwic3BvbnNvcklkIiwiZGVwdGgiLCJtYXhEZXB0aCIsInVzZXJzIiwiZG93bmxpbmUiLCJ1Iiwic3ViRG93bmxpbmUiLCJnZXRUZWFtQ291bnQiLCJsZWZ0Q291bnQiLCJyaWdodENvdW50IiwicGxhY2VtZW50U2lkZSIsInRvdGFsIiwibGVuZ3RoIiwibGVmdCIsInJpZ2h0IiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlVGVhbVZvbHVtZSIsImxlZnRWb2x1bWUiLCJyaWdodFZvbHVtZSIsIndhbGxldFNlcnZpY2UiLCJnZXRPckNyZWF0ZSIsIm5ld1dhbGxldCIsImF2YWlsYWJsZUJhbGFuY2UiLCJsb2NrZWRCYWxhbmNlIiwidG90YWxXaXRoZHJhd24iLCJ0b3RhbEVhcm5lZCIsImxhc3RVcGRhdGVkIiwiZ2V0QmFsYW5jZSIsIndhbGxldCIsImF2YWlsYWJsZSIsImxvY2tlZCIsIndpdGhkcmF3biIsImVhcm5lZCIsImFkZEluY29tZSIsImFtb3VudCIsImRlZHVjdEJhbGFuY2UiLCJyZWNvcmRXaXRoZHJhd2FsIiwiaW5jb21lVHJhbnNhY3Rpb25TZXJ2aWNlIiwidHJhbnNhY3Rpb24iLCJnZXRCeVVzZXIiLCJsaW1pdENvdW50IiwiZ2V0QnlUeXBlIiwiaW5jb21lVHlwZSIsImdldFRvdGFsQnlUeXBlIiwidHJhbnNhY3Rpb25zIiwiZmlsdGVyIiwidCIsInJlZHVjZSIsInN1bSIsIndpdGhkcmF3YWxTZXJ2aWNlIiwid2l0aGRyYXdhbCIsInJlcXVlc3RlZEF0Iiwid2l0aGRyYXdhbElkIiwibGlzdEJ5VXNlciIsImdldFNldHRpbmdzIiwibWxtQ29uZmlnU2VydmljZSIsImNvbmZpZyIsImF1ZGl0TG9nU2VydmljZSIsImxvZyIsImxpc3RCeUFkbWluIiwiYWRtaW5JZCIsImxpc3RBbGwiLCJiYXRjaFVwZGF0ZVdhbGxldHMiLCJ1cGRhdGVzIiwiYmF0Y2hXcml0ZSIsImluY3JlbWVudF92YWwiLCJ0eXBlIiwiY29tbWl0IiwiYmF0Y2hDcmVhdGVUcmFuc2FjdGlvbnMiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firebase-services.ts\n"));

/***/ })

});